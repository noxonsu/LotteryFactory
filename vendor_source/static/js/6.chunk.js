(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[6],{721:function(e,t,n){"use strict";n.r(t);var c,r,i,o,a,s,l,d,u,b,j=n(22),x=n(39),p=n(0),h=n(9),f=n(44),O=n(6),m=n(4),g=n(84),v=n(337),y=n(17),C=function(e,t,n){return Object(h.e)(c||(c=Object(x.a)(["\n  width: 100%;\n  height: 20px;\n  clip-path: url(",");\n\n  background: ",";\n\n  & svg {\n    display: block;\n  }\n"])),t,(function(){return e.isDark?(null===n||void 0===n?void 0:n.dark)||(null===n||void 0===n?void 0:n.light)||e.colors.background:(null===n||void 0===n?void 0:n.light)||e.colors.background}))},w=Object(h.f)(f.h)(r||(r=Object(x.a)(["\n  ","\n  transform: ",";\n"])),(function(e){var t=e.theme,n=e.clipPath,c=e.clipFill;return C(t,n,c)}),(function(e){return"#bottomConcaveCurve"===e.clipPath?"translate(0, -13px)":"translate(0, 1px)"})),k=Object(h.f)(f.h)(i||(i=Object(x.a)(["\n  ","\n  transform: ",";\n"])),(function(e){var t=e.theme,n=e.clipPath,c=e.clipFill;return C(t,n,c)}),(function(e){return"#bottomConvexCurve"===e.clipPath?"translate(0, -13px)":"translate(0, -1px)"})),S=function(e){var t=e.clipFill;return Object(y.jsx)(k,{clipFill:t,clipPath:"#topConvexCurve",children:Object(y.jsx)("svg",{width:"0",height:"0",children:Object(y.jsx)("defs",{children:Object(y.jsx)("clipPath",{id:"topConvexCurve",clipPathUnits:"objectBoundingBox",children:Object(y.jsx)("path",{d:"M 0,1 L 0,0 L 1,0 L 1,1 C 0.75 0, .25 0, 0 1 Z"})})})})})},B=function(e){var t=e.clipFill;return Object(y.jsx)(k,{clipFill:t,clipPath:"#bottomConvexCurve",children:Object(y.jsx)("svg",{width:"0",height:"0",children:Object(y.jsx)("defs",{children:Object(y.jsx)("clipPath",{id:"bottomConvexCurve",clipPathUnits:"objectBoundingBox",children:Object(y.jsx)("path",{d:"M 0,0 L 0,1 L 1,1 L 1,0 C .75 1, .25 1, 0 0 Z"})})})})})},I=function(e){var t=e.clipFill;return Object(y.jsx)(w,{clipFill:t,clipPath:"#topConcaveCurve",children:Object(y.jsx)("svg",{width:"0",height:"0",children:Object(y.jsx)("defs",{children:Object(y.jsx)("clipPath",{id:"topConcaveCurve",clipPathUnits:"objectBoundingBox",children:Object(y.jsx)("path",{d:"M 0,0 L 0,1 L 1,1 L 1,0 C .75 1, .25 1, 0 0 Z"})})})})})},L=function(e){var t=e.clipFill;return Object(y.jsx)(w,{clipFill:t,clipPath:"#bottomConcaveCurve",children:Object(y.jsx)("svg",{width:"0",height:"0",children:Object(y.jsx)("defs",{children:Object(y.jsx)("clipPath",{id:"bottomConcaveCurve",clipPathUnits:"objectBoundingBox",children:Object(y.jsx)("path",{d:"M 0,1 L 0,0 L 1,0 L 1,1 C .75 0.1, .25 0.1, 0 1 Z"})})})})})},T=h.f.div(o||(o=Object(x.a)(["\n  background: ",";\n  z-index: ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n"])),(function(e){var t=e.theme,n=e.dividerFill;return t.isDark?(null===n||void 0===n?void 0:n.dark)||(null===n||void 0===n?void 0:n.light)||"none":(null===n||void 0===n?void 0:n.light)||(null===n||void 0===n?void 0:n.dark)||"none"}),(function(e){return e.index})),D=h.f.div(a||(a=Object(x.a)(["\n  z-index: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])),(function(e){return e.index+1})),F=function(e){var t=e.index,n=e.dividerPosition,c=e.dividerComponent,r=e.concave,i=e.clipFill,o=e.dividerFill,a="top"===n&&!r,s="bottom"===n&&!r,l="top"===n&&r,d="bottom"===n&&r;return Object(y.jsxs)(T,{index:t,dividerFill:o,children:[c&&Object(y.jsx)(D,{index:t,children:c}),Object(y.jsxs)(y.Fragment,{children:[l&&Object(y.jsx)(I,{clipFill:i}),d&&Object(y.jsx)(L,{clipFill:i})]}),Object(y.jsxs)(y.Fragment,{children:[a&&Object(y.jsx)(S,{clipFill:i}),s&&Object(y.jsx)(B,{clipFill:i})]})]})},E=["children","background","svgFill","index","dividerComponent","dividerPosition","hasCurvedDivider","concaveDivider","clipFill","dividerFill","containerProps","innerProps"],R=Object(h.f)(f.B)(s||(s=Object(x.a)(["\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  z-index: ",";\n  background: ",";\n  padding: ",";\n"])),(function(e){return e.index-1}),(function(e){var t=e.background,n=e.theme;return t||n.colors.background}),(function(e){return(0,e.getPadding)()})),M=Object(h.f)(v.a)(l||(l=Object(x.a)(["\n  min-height: auto;\n  padding-top: 16px;\n  padding-bottom: 16px;\n\n  "," {\n    padding-top: 32px;\n    padding-bottom: 32px;\n  }\n\n  "," {\n    padding-top: 48px;\n    padding-bottom: 48px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),N=function(e){var t=e.children,n=e.background,c=e.svgFill,r=e.index,i=void 0===r?1:r,o=e.dividerComponent,a=e.dividerPosition,s=void 0===a?"bottom":a,l=e.hasCurvedDivider,d=void 0===l||l,u=e.concaveDivider,b=void 0!==u&&u,j=e.clipFill,x=e.dividerFill,p=e.containerProps,h=e.innerProps,O=Object(g.a)(e,E);return Object(y.jsxs)(f.h,Object(m.a)(Object(m.a)({},p),{},{children:[d&&"top"===s&&Object(y.jsx)(F,{svgFill:c,index:i,concave:b,dividerPosition:s,dividerComponent:o,clipFill:j,dividerFill:x}),Object(y.jsx)(R,Object(m.a)(Object(m.a)({background:n,index:i,getPadding:function(){return d?"bottom"===s?"48px 0 14px":"top"===s?"14px 0 48px":"48px 0":"48px 0"}},O),{},{children:Object(y.jsx)(M,Object(m.a)(Object(m.a)({},h),{},{children:t}))})),d&&"bottom"===s&&Object(y.jsx)(F,{svgFill:c,index:i,concave:b,dividerPosition:s,dividerComponent:o,clipFill:j,dividerFill:x})]}))},A=n(83),P=n(276),z=function(){var e=Object(P.f)(),t=Object(j.a)(e,2),n=t[0],c=t[1];return{isDark:n,theme:Object(p.useContext)(h.b),toggleTheme:c}},_=n(20),W=n.n(_),Z=n(78),H=n(25),U=n(71),V=n(197),Y=n(278),q=n(91),Q=function(){return Object(H.c)((function(e){return e.lottery.currentLotteryId}))},K=function(){return Object(H.c)((function(e){return e.lottery.userLotteryData}))},$=function(){return Object(H.c)((function(e){return e.lottery.lotteriesData}))},G=function(){var e=Object(H.c)((function(e){return e.lottery.currentRound})),t=Object(q.f)(e),n=Object(H.c)((function(e){return e.lottery.isTransitioning})),c=Q(),r=K(),i=$(),o=Object(H.c)((function(e){return e.lottery.maxNumberTicketsPerBuyOrClaim}));return{currentLotteryId:c,maxNumberTicketsPerBuyOrClaim:Object(p.useMemo)((function(){return new W.a(o)}),[o]),isTransitioning:n,userLotteryData:r,lotteriesData:i,currentRound:t}},X=function(e,t){var n=Object(A.b)().t,c=Object(p.useState)({nextEventTime:null,preCountdownText:null,postCountdownText:null}),r=Object(j.a)(c,2),i=r[0],o=r[1];return Object(p.useEffect)((function(){t===O.a.OPEN&&o({nextEventTime:e+30,preCountdownText:null,postCountdownText:n("until the draw")}),t===O.a.CLOSE&&o({nextEventTime:e+30+180,preCountdownText:n("Winners announced in"),postCountdownText:null}),t===O.a.CLAIMABLE&&o({nextEventTime:e+30+300,preCountdownText:n("Tickets on sale in"),postCountdownText:null})}),[t,e,n]),i},J=n(1),ee=n.n(J),te=n(8),ne=n(253),ce=function(){var e=G(),t=e.currentLotteryId,n=e.isTransitioning,c=e.currentRound.status,r=Object(Z.c)().account,i=Object(U.b)(),o=Object(ne.a)(c);Object(p.useEffect)((function(){o!==c&&t&&(o===O.a.CLOSE&&c===O.a.CLAIMABLE&&(i(Object(Y.e)({currentLotteryId:t})),r&&i(Object(Y.f)({account:r,currentLotteryId:t}))),o===O.a.CLAIMABLE&&c===O.a.OPEN&&(i(Object(Y.e)({currentLotteryId:t})),r&&i(Object(Y.f)({account:r,currentLotteryId:t}))))}),[t,c,o,r,i]),Object(p.useEffect)((function(){if(o===O.a.CLAIMABLE&&c===O.a.CLAIMABLE&&n){i(Object(Y.d)()),i(Object(Y.e)({currentLotteryId:t}));var e=setInterval(Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(Y.d)()),i(Object(Y.e)({currentLotteryId:t}));case 2:case"end":return e.stop()}}),e)}))),1e4);return function(){return clearInterval(e)}}return function(){return null}}),[c,o,n,t,i])},re=n(72),ie=n(654),oe=n.n(ie),ae=["value","color","decimals","isDisabled","unit","prefix","onClick"],se=function(e){var t=e.value,n=e.color,c=void 0===n?"text":n,r=e.decimals,i=void 0===r?3:r,o=e.isDisabled,a=void 0!==o&&o,s=e.unit,l=e.prefix,d=e.onClick,u=Object(g.a)(e,ae),b=Object(p.useRef)(0);return Object(p.useEffect)((function(){b.current=t}),[t]),Object(y.jsx)(f.cb,Object(m.a)(Object(m.a)({color:a?"textDisabled":c,onClick:d},u),{},{children:Object(y.jsx)(oe.a,{start:b.current,end:t,prefix:l,suffix:s,decimals:i,duration:1,separator:","})}))},le=n(277),de=function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 296 121"},e),{},{children:[Object(y.jsxs)("g",{filter:"url(#filter0_dd_ticket_purchase_card)",children:[Object(y.jsx)("path",{d:"M4 16C4 7.16344 11.1634 0 20 0H66V113H20C11.1634 113 4 105.837 4 97V16Z",fill:"#FFB237"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.4931 2.94568C68.9511 1.38001 67.6569 0 66 0V10H90V0C88.3431 0 87.0489 1.38001 86.5069 2.94568C85.2868 6.4696 81.9389 9 78 9C74.0611 9 70.7132 6.4696 69.4931 2.94568Z",fill:"#FFB237"}),Object(y.jsx)("rect",{x:"66",y:"10",width:"10",height:"93",fill:"#FFB237"}),Object(y.jsx)("path",{d:"M78 103V10",stroke:"#FFB237",strokeWidth:"4",strokeDasharray:"4 4"}),Object(y.jsx)("rect",{x:"80",y:"10",width:"10",height:"93",fill:"#FFB237"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.4931 110.054C68.9511 111.62 67.6569 113 66 113V103H90V113C88.3431 113 87.0489 111.62 86.5069 110.054C85.2868 106.53 81.9389 104 78 104C74.0611 104 70.7132 106.53 69.4931 110.054Z",fill:"#FFB237"}),Object(y.jsx)("path",{d:"M90 0H276C284.837 0 292 7.16344 292 16V97C292 105.837 284.837 113 276 113H90V0Z",fill:"#FFB237"})]}),Object(y.jsx)("defs",{children:Object(y.jsxs)("filter",{id:"filter0_dd_ticket_purchase_card",x:"0",y:"0",width:"296",height:"121",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(y.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(y.jsx)("feOffset",{dx:"2",dy:"2"}),Object(y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.686275 0 0 0 0 0 0 0 0 1 0"}),Object(y.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_ticket_purchase_card"}),Object(y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(y.jsx)("feOffset",{dy:"4"}),Object(y.jsx)("feGaussianBlur",{stdDeviation:"2"}),Object(y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),Object(y.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_ticket_purchase_card",result:"effect2_dropShadow_ticket_purchase_card"}),Object(y.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_ticket_purchase_card",result:"shape"})]})})]}))},ue=function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 27 26"},e),{},{children:[Object(y.jsxs)("mask",{id:"white-bunny-path-1-outside-1",maskUnits:"userSpaceOnUse",x:"0.5",y:"-0.0263672",width:"26",height:"26",fill:"black",children:[Object(y.jsx)("rect",{fill:"white",x:"0.5",y:"-0.0263672",width:"26",height:"26"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.909 3.56941C7.03125 1.79519 8.76206 0.588231 10.4692 1.08677C11.9461 1.51808 12.7937 3.06497 12.3624 4.54184L11.1683 8.63073C11.9225 8.53996 12.7022 8.49237 13.5 8.49237C14.6339 8.49237 15.731 8.58848 16.7708 8.76808L18.74 2.99564C19.2367 1.53947 20.8199 0.761724 22.2761 1.25849C23.9593 1.83269 24.6807 3.81559 23.7601 5.3372L20.9057 10.0551C23.7031 11.3976 25.5 13.4834 25.5 15.8257L25.5 15.8267V17.6934C25.5 21.7435 20.1274 25.0267 13.5 25.0267C6.87258 25.0267 1.5 21.7435 1.5 17.6934V15.8267V15.8257C1.5 13.379 3.46066 11.2122 6.47417 9.88004L6.909 3.56941Z"})]}),Object(y.jsx)("path",{d:"M10.4692 1.08677L10.7142 0.247673V0.247673L10.4692 1.08677ZM6.909 3.56941L7.78108 3.6295V3.62949L6.909 3.56941ZM12.3624 4.54184L13.2015 4.78689V4.78689L12.3624 4.54184ZM11.1683 8.63073L10.3292 8.38568L9.95792 9.65684L11.2727 9.49862L11.1683 8.63073ZM16.7708 8.76808L16.622 9.62947L17.3572 9.75647L17.5981 9.05032L16.7708 8.76808ZM18.74 2.99564L19.5673 3.27788V3.27788L18.74 2.99564ZM22.2761 1.25849L22.5583 0.431153V0.431153L22.2761 1.25849ZM23.7601 5.3372L23.0122 4.88469V4.88469L23.7601 5.3372ZM20.9057 10.0551L20.1578 9.60256L19.6593 10.4265L20.5275 10.8432L20.9057 10.0551ZM25.5 15.8257H24.6258L24.6259 15.8274L25.5 15.8257ZM25.5 15.8267H26.3742L26.3742 15.8251L25.5 15.8267ZM6.47417 9.88004L6.82762 10.6796L7.31 10.4663L7.34626 9.94013L6.47417 9.88004ZM10.7142 0.247673C8.47144 -0.407305 6.19752 1.17838 6.03691 3.50932L7.78108 3.62949C7.86497 2.412 9.05268 1.58377 10.2241 1.92587L10.7142 0.247673ZM13.2015 4.78689C13.7681 2.84659 12.6545 0.814314 10.7142 0.247673L10.2241 1.92587C11.2376 2.22184 11.8192 3.28334 11.5233 4.2968L13.2015 4.78689ZM12.0074 8.87578L13.2015 4.78689L11.5233 4.2968L10.3292 8.38568L12.0074 8.87578ZM13.5 7.61822C12.6675 7.61822 11.853 7.66787 11.0638 7.76284L11.2727 9.49862C11.9921 9.41204 12.7369 9.36652 13.5 9.36652V7.61822ZM16.9195 7.90668C15.8299 7.71847 14.683 7.61822 13.5 7.61822V9.36652C14.5847 9.36652 15.632 9.45848 16.622 9.62947L16.9195 7.90668ZM17.5981 9.05032L19.5673 3.27788L17.9127 2.7134L15.9434 8.48584L17.5981 9.05032ZM19.5673 3.27788C19.9082 2.27864 20.9946 1.74493 21.9938 2.08582L22.5583 0.431153C20.6452 -0.221485 18.5653 0.800311 17.9127 2.7134L19.5673 3.27788ZM21.9938 2.08582C23.1489 2.47985 23.644 3.84054 23.0122 4.88469L24.5081 5.7897C25.7175 3.79064 24.7697 1.18554 22.5583 0.431153L21.9938 2.08582ZM23.0122 4.88469L20.1578 9.60256L21.6536 10.5076L24.5081 5.7897L23.0122 4.88469ZM26.3741 15.8257C26.3741 12.9967 24.2198 10.676 21.284 9.26698L20.5275 10.8432C23.1864 12.1193 24.6259 13.9701 24.6259 15.8257H26.3741ZM26.3742 15.8251L26.3741 15.8241L24.6259 15.8274L24.6259 15.8284L26.3742 15.8251ZM26.3742 17.6934V15.8267H24.6259V17.6934H26.3742ZM13.5 25.9009C16.9478 25.9009 20.1111 25.0486 22.4411 23.6247C24.7561 22.21 26.3742 20.1382 26.3742 17.6934H24.6259C24.6259 19.2987 23.5576 20.8935 21.5295 22.1329C19.5163 23.3632 16.6797 24.1526 13.5 24.1526V25.9009ZM0.62585 17.6934C0.62585 20.1382 2.24387 22.21 4.55889 23.6247C6.88892 25.0486 10.0523 25.9009 13.5 25.9009V24.1526C10.3203 24.1526 7.48367 23.3632 5.47054 22.1329C3.44242 20.8935 2.37415 19.2987 2.37415 17.6934H0.62585ZM0.62585 15.8267V17.6934H2.37415V15.8267H0.62585ZM0.62585 15.8257V15.8267H2.37415V15.8257H0.62585ZM6.12073 9.08053C2.97211 10.4725 0.62585 12.8707 0.62585 15.8257H2.37415C2.37415 13.8874 3.94921 11.952 6.82762 10.6796L6.12073 9.08053ZM6.03691 3.50932L5.60209 9.81995L7.34626 9.94013L7.78108 3.6295L6.03691 3.50932Z",fill:"#08060B",mask:"url(#path-1-outside-1)"}),Object(y.jsx)("path",{d:"M25.5 17.6933C25.5 21.7434 20.1274 25.0267 13.5 25.0267C6.87258 25.0267 1.5 21.7434 1.5 17.6933V15.8267H25.5V17.6933Z",fill:"#F4EEFF"}),Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.909 3.56941C7.03125 1.79519 8.76206 0.588231 10.4692 1.08677C11.9461 1.51808 12.7937 3.06497 12.3624 4.54184L11.1683 8.63073C11.9225 8.53996 12.7022 8.49237 13.5 8.49237C14.6339 8.49237 15.731 8.58848 16.7708 8.76808L18.74 2.99564C19.2367 1.53947 20.8199 0.761724 22.2761 1.25849C23.9593 1.83269 24.6807 3.81559 23.7601 5.3372L20.9057 10.0551C23.7031 11.3976 25.5 13.4834 25.5 15.8257C25.5 19.8758 20.1274 23.159 13.5 23.159C6.87258 23.159 1.5 19.8758 1.5 15.8257C1.5 13.379 3.46066 11.2122 6.47417 9.88004L6.909 3.56941Z",fill:"white"}),Object(y.jsx)("ellipse",{cx:"10.4334",cy:"15.292",rx:"1.33333",ry:"2",fill:"#08060B"}),Object(y.jsx)("ellipse",{cx:"19.6331",cy:"15.292",rx:"1.33333",ry:"2",fill:"#08060B"})]}))},be=h.f.div(d||(d=Object(x.a)(["\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n"]))),je=Object(h.f)(f.cb)(u||(u=Object(x.a)(["\n  color: #000000;\n  text-shadow: -0.75px -0.75px 0 white, 0.75px -0.75px 0 white, -0.75px 0.75px 0 white, 0.75px 0.75px 0 white;\n  transform: rotate(","deg);\n"])),(function(e){return e.rotationTransform||0})),xe={pink:function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(y.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#D750B2"}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},lilac:function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(y.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#A881FC"}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},teal:function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(y.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#1FC7D4"}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},aqua:function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(y.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#31D0AA"}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},green:function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(y.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#93D45A"}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13232C28.9191 8.87177 28.5505 17.2573 23.2373 22.5706C17.528 28.2799 8.27148 28.2799 2.56223 22.5706C2.2825 22.2909 2.01648 22.0026 1.76416 21.7067C4.02814 27.3486 9.54881 31.3326 16 31.3326C24.4683 31.3326 31.3332 24.4677 31.3332 15.9994C31.3332 10.6078 28.5504 5.8661 24.3428 3.13232Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7713 4.18262C30.6308 10.2119 30.2607 19.061 24.6609 24.6608C19.0615 30.2602 10.2132 30.6307 4.18396 25.7722C6.99643 29.1689 11.2455 31.3329 16 31.3329C24.4683 31.3329 31.3332 24.468 31.3332 15.9997C31.3332 11.2446 29.1687 6.99508 25.7713 4.18262Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10075 9.5143C3.77271 5.93677 6.78528 3.11129 10.4921 1.68422C10.546 1.73235 10.5987 1.78219 10.6502 1.83374C12.4838 3.66728 10.9119 5.7442 8.66145 7.99465C6.411 10.2451 4.33417 11.8169 2.50064 9.98335C2.35338 9.83609 2.22013 9.6793 2.10075 9.5143Z",fill:"white"})})]}))},yellow:function(e){return Object(y.jsxs)(f.bb,Object(m.a)(Object(m.a)({viewBox:"0 0 32 32"},e),{},{children:[Object(y.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#FFC43C"}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3428 3.13245C28.9191 8.87189 28.5505 17.2575 23.2373 22.5707C17.528 28.28 8.27148 28.28 2.56223 22.5707C2.2825 22.291 2.01648 22.0028 1.76416 21.7068C4.02814 27.3487 9.54881 31.3327 16 31.3327C24.4683 31.3327 31.3332 24.4678 31.3332 15.9995C31.3332 10.6079 28.5504 5.86622 24.3428 3.13245Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"multiply"},opacity:"0.1",children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.7714 4.18262C30.6309 10.2119 30.2608 19.061 24.661 24.6608C19.0616 30.2602 10.2134 30.6307 4.18408 25.7722C6.99655 29.1689 11.2456 31.3329 16.0001 31.3329C24.4685 31.3329 31.3334 24.468 31.3334 15.9997C31.3334 11.2446 29.1689 6.99508 25.7714 4.18262Z",fill:"black"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.48969 24.8677C0.151051 18.7651 0.974979 11.0636 6.01931 6.01927C11.0639 0.974682 18.7659 0.15093 24.8687 3.49016C22.365 1.71201 19.3046 0.666603 16 0.666603C7.53165 0.666603 0.666733 7.53152 0.666733 15.9998C0.666733 19.3041 1.7119 22.3642 3.48969 24.8677Z",fill:"white"})}),Object(y.jsx)("g",{style:{mixBlendMode:"soft-light"},children:Object(y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10087 9.51443C3.77283 5.93689 6.78541 3.11142 10.4922 1.68435C10.5461 1.73247 10.5988 1.78231 10.6504 1.83387C12.4839 3.6674 10.912 5.74432 8.66157 7.99477C6.41112 10.2452 4.33429 11.817 2.50076 9.98347C2.3535 9.83621 2.22025 9.67943 2.10087 9.51443Z",fill:"white"})})]}))}},pe=function(e){var t=e.color,n=e.number,c=e.size,r=e.fontSize,i=e.rotationTransform,o=xe[t];return Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",position:"relative",mx:"2px",children:[Object(y.jsx)(o,{width:null!==c&&void 0!==c?c:"32px",height:null!==c&&void 0!==c?c:"32px"}),Object(y.jsx)(be,{children:Object(y.jsx)(je,{rotationTransform:i,bold:!0,fontSize:null!==r&&void 0!==r?r:"16px",children:n})})]})},he=n(52),fe=n(31),Oe=(n(26),n(33)),me=n(90),ge=function(){var e=Object(p.useState)(Date.now()),t=Object(j.a)(e,2),n=t[0],c=t[1];return{lastUpdated:n,previousLastUpdated:Object(ne.a)(n),setLastUpdated:Object(p.useCallback)((function(){c(Date.now())}),[c])}};!function(e){e.NOT_FETCHED="not-fetched",e.SUCCESS="success",e.FAILED="failed"}(b||(b={}));var ve=function(e){var t=b.NOT_FETCHED,n=b.SUCCESS,c=b.FAILED,r=Object(p.useState)({balance:fe.c,fetchStatus:t}),i=Object(j.a)(r,2),o=i[0],a=i[1],s=Object(Z.c)().account,l=Object(V.a)().fastRefresh;return Object(p.useEffect)((function(){var t=function(){var t=Object(te.a)(ee.a.mark((function t(){var r,i;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(Oe.b)(e),t.prev=1,t.next=4,r.balanceOf(s);case 4:i=t.sent,a({balance:new W.a(i.toString()),fetchStatus:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),a((function(e){return Object(m.a)(Object(m.a)({},e),{},{fetchStatus:c})}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();s&&t()}),[s,e,l,n,c]),o},ye=function(){var e=Object(p.useState)(b.NOT_FETCHED),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(p.useState)(he.a.BigNumber.from(0)),i=Object(j.a)(r,2),o=i[0],a=i[1],s=Object(Z.c)().account,l=ge(),d=l.lastUpdated,u=l.setLastUpdated;return Object(p.useEffect)((function(){var e=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.getBalance(s);case 3:t=e.sent,a(t),c(b.SUCCESS),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(b.FAILED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();s&&e()}),[s,d,a,c]),{balance:o,fetchStatus:n,refresh:u}},Ce=ve,we=n(100),ke=n(139),Se={approvalState:"idle",confirmState:"idle"},Be=function(e,t){switch(t.type){case"requires_approval":return Object(m.a)(Object(m.a)({},e),{},{approvalState:"idle"});case"approve_sending":return Object(m.a)(Object(m.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(m.a)(Object(m.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(m.a)(Object(m.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(m.a)(Object(m.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(m.a)(Object(m.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(m.a)(Object(m.a)({},e),{},{confirmState:"fail"});default:return e}},Ie=function(e){var t=e.onApprove,n=e.onConfirm,c=e.onRequiresApproval,r=e.onSuccess,i=void 0===r?we.noop:r,o=e.onApproveSuccess,a=void 0===o?we.noop:o,s=Object(A.b)().t,l=Object(Z.c)().account,d=Object(p.useReducer)(Be,Se),u=Object(j.a)(d,2),b=u[0],x=u[1],h=Object(ke.a)().toastError;return Object(p.useEffect)((function(){l&&c&&c().then((function(e){x(e?{type:"approve_receipt"}:{type:"requires_approval"})}))}),[l,c,x]),{isApproving:"loading"===b.approvalState,isApproved:"success"===b.approvalState,isConfirming:"loading"===b.confirmState,isConfirmed:"success"===b.confirmState,hasApproveFailed:"fail"===b.approvalState,hasConfirmFailed:"fail"===b.confirmState,handleApprove:function(){var e=Object(te.a)(ee.a.mark((function e(){var n,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,x({type:"approve_sending"}),e.next=7,n.wait();case 7:(c=e.sent).status&&(x({type:"approve_receipt"}),a({state:b,receipt:c})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),x({type:"approve_error"}),h(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,c,r,o=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},x({type:"confirm_sending"}),e.prev=2,e.next=5,n(t);case 5:return c=e.sent,e.next=8,c.wait();case 8:(r=e.sent).status&&(x({type:"confirm_receipt"}),i({state:b,receipt:r})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),x({type:"confirm_error"}),h(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()}},Le=n(152),Te=n(32);var De,Fe,Ee,Re,Me,Ne=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,c,r){var i,o,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t[n]){e.next=2;break}throw new Error("Method ".concat(n," doesn't exist on ").concat(t.address));case 2:return e.next=4,(i=t.estimateGas)[n].apply(i,Object(Te.a)(c));case 4:return o=e.sent,a=o.mul(he.a.BigNumber.from(1e4).add(he.a.BigNumber.from(r))).div(he.a.BigNumber.from(1e4)),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var c,r,i,o,a,s=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]?s[2]:[],r=s.length>3&&void 0!==s[3]?s[3]:{},i=s.length>4&&void 0!==s[4]?s[4]:1e3,o=Ne(t,n,c,i),e.next=6,t[n].apply(t,Object(Te.a)(c).concat([Object(m.a)({gasLimit:o},r)]));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=n(112),ze=n(3),_e=(n(57),Pe.d,n(68),n(315),n(41)),We=n(27),Ze=n(281),He=function(e){var t=Object(A.b)().t,n=Object(Ze.a)(),c=n.login,r=n.logout,i=Object(f.rb)(c,r,t).onPresentConnectModal;return Object(y.jsx)(f.j,Object(m.a)(Object(m.a)({id:"connect-wallet",className:"primaryButton",onClick:i},e),{},{children:t("Connect Wallet")}))},Ue=n(132);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(Me||(Me={}));var Ve,Ye,qe,Qe,Ke,$e,Ge,Xe,Je,et=h.f.div(De||(De=Object(x.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),tt=Object(h.f)(f.j)(Fe||(Fe=Object(x.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),nt={width:"24px",color:"textDisabled"},ct=Object(h.f)(f.u).attrs(nt)(Ee||(Ee=Object(x.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),rt=Object(h.f)(f.t).attrs(nt)(Re||(Re=Object(x.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),it=Object(y.jsx)(f.e,{spin:!0,color:"currentColor"}),ot=function(e){var t=e.isApproveDisabled,n=e.isApproving,c=e.isConfirming,r=e.isConfirmDisabled,i=e.onApprove,o=e.onConfirm,a=e.buttonArrangement,s=void 0===a?Me.ROW:a,l=e.confirmLabel,d=e.confirmId,u=Object(A.b)().t,b=null!==l&&void 0!==l?l:u("Confirm");return s===Me.ROW?Object(y.jsxs)(et,{children:[Object(y.jsx)(f.h,{children:Object(y.jsx)(tt,{disabled:t,onClick:i,endIcon:n?it:void 0,isLoading:n,children:u(n?"Enabling":"Enable")})}),Object(y.jsxs)(f.B,{justifyContent:"center",children:[Object(y.jsx)(ct,{}),Object(y.jsx)(rt,{})]}),Object(y.jsx)(f.h,{children:Object(y.jsx)(tt,{id:d,onClick:o,disabled:r,isLoading:c,endIcon:c?it:void 0,children:c?u("Confirming"):b})})]}):Object(y.jsx)(y.Fragment,{children:t?Object(y.jsx)(f.h,{children:Object(y.jsx)(tt,{id:d,onClick:o,disabled:r,isLoading:c,endIcon:c?it:void 0,children:c?u("Confirming"):b})}):Object(y.jsx)(f.h,{children:Object(y.jsx)(tt,{onClick:i,endIcon:n?it:void 0,isLoading:n,children:u(n?"Enabling":"Enable")})})})},at=Object(h.f)(f.j)(Ve||(Ve=Object(x.a)(["\n  flex-grow: 1;\n"]))),st=function(e){var t=e.children,n=e.onClick,c=e.disabled,r=void 0!==c&&c;return Object(y.jsx)(at,{className:"numTicketsButton",disabled:r,scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},lt=h.f.div(Ye||(Ye=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 36px;\n  box-sizing: border-box;\n  border: 1px solid #d7caec;\n  background-color: #eeeaf4;\n  border-radius: 16px;\n  margin-bottom: 8px;\n  ","\n  ","\n"])),(function(e){return e.isDuplicate&&"\n    border: 1px solid #FFB237;\n    box-shadow: 0px 0px 0px 2px #FFB237;\n  "}),(function(e){return e.focused&&"\n    border: 1px solid #7645D9;\n    box-shadow: 0px 0px 0px 2px #E4DAF7;\n  "})),dt=h.f.input(qe||(qe=Object(x.a)(["\n  border: none;\n  height: 32px;\n  padding: 0 12px;\n  font-size: 16px;\n  flex: 1;\n  width: 16px;\n  text-align: center;\n  min-width: 0;\n  background-color: transparent;\n  caret-color: #7a6faa;\n\n  &::placeholder {\n    text-align: center;\n  }\n\n  &:placeholder-shown {\n    text-align: left;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    /* display: none; <- Crashes Chrome on hover */\n    -webkit-appearance: none;\n    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n  }\n\n  -moz-appearance: textfield; /* Firefox */\n"]))),ut=window.SO_LotteryConfig.numbersCount,bt=function(e){var t,n=e.ticket,c=e.duplicateWith,r=e.updateTicket,i=e.disabled,o=Object(p.useState)(!1),a=Object(j.a)(o,2),s=a[0],l=a[1],d=Object(p.useRef)(null),u=Object(p.useRef)(null),b=Object(p.useRef)(null),x=Object(p.useRef)(null),h=Object(p.useRef)(null),O=Object(p.useRef)(null),m=Object(p.useRef)(null),g=Object(A.b)().t,v=[u,b,x,h,O,m],C=function(){d.current&&d.current.scrollIntoView({block:"center",behavior:"smooth"})},w=function(e){e.preventDefault();var t=e.clipboardData.getData("Text");if(t.length<=6&&/^\d+$/.test(t)){var c=Array(6-t.length).fill("");r(n.id,[].concat(Object(Te.a)(t.split("")),Object(Te.a)(c)))}},k=function(){C(),l(!0)},S=function(){l(!1)},B=function(e,t){var c=parseInt(e.key,10);if(["e","E",".",",","-","Unidentified"].includes(e.key))e.preventDefault();else{if(c>=0&&c<=9){e.preventDefault();var i=Object(Te.a)(n.numbers);i[t]="".concat(c),r(n.id,i);var o=t+1,a=v[o];o!==ut&&a.current&&a.current.focus()}if("Backspace"===e.key)if(e.preventDefault(),n.numbers[t]){var s=Object(Te.a)(n.numbers);s[t]="",r(n.id,s)}else{var l=t-1,d=v[l];if(-1!==l&&d.current){d.current.focus();var u=Object(Te.a)(n.numbers);u[l]="",r(n.id,u)}}if("Delete"===e.key)if(e.preventDefault(),n.numbers[t]){var b=Object(Te.a)(n.numbers);b[t]="",r(n.id,b)}else{var j=t+1,x=v[j];if(j!==ut&&x.current){x.current.focus();var p=Object(Te.a)(n.numbers);p[j]="",r(n.id,p)}}if("ArrowLeft"===e.key){e.preventDefault();var h=t-1,f=v[h];-1!==h&&f.current&&f.current.focus()}if("ArrowRight"===e.key){e.preventDefault();var O=t+1,m=v[O];O!==ut&&m.current&&m.current.focus()}}};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(f.B,{justifyContent:"space-between",children:[Object(y.jsx)(f.cb,{fontSize:"12px",color:"textSubtle",children:(t=n.id,t<10?"#00".concat(t):t<100?"#0".concat(t):"#".concat(t))}),Object(y.jsx)(f.cb,{fontSize:"12px",color:"warning",children:0!==c.length&&g("Duplicate")})]}),Object(y.jsxs)(lt,{ref:d,onClick:C,focused:s,isDuplicate:0!==c.length,children:[ut>=1&&Object(y.jsx)(dt,{ref:u,type:"number",value:n.numbers[0],onKeyDown:function(e){return B(e,0)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:k,onBlur:S,onPaste:w,inputMode:"numeric"}),ut>=2&&Object(y.jsx)(dt,{ref:b,type:"number",value:n.numbers[1],onKeyDown:function(e){return B(e,1)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:k,onBlur:S,onPaste:w,inputMode:"numeric"}),ut>=3&&Object(y.jsx)(dt,{ref:x,type:"number",value:n.numbers[2],onKeyDown:function(e){return B(e,2)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:k,onBlur:S,onPaste:w,inputMode:"numeric"}),ut>=4&&Object(y.jsx)(dt,{ref:h,type:"number",value:n.numbers[3],onKeyDown:function(e){return B(e,3)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:k,onBlur:S,onPaste:w,inputMode:"numeric"}),ut>=5&&Object(y.jsx)(dt,{ref:O,type:"number",value:n.numbers[4],onKeyDown:function(e){return B(e,4)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:k,onBlur:S,onPaste:w,inputMode:"numeric"}),ut>=6&&Object(y.jsx)(dt,{ref:m,type:"number",value:n.numbers[5],onKeyDown:function(e){return B(e,5)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:k,onBlur:S,onPaste:w,inputMode:"numeric"})]})]})},jt=Object(h.f)(f.N)(Qe||(Qe=Object(x.a)(["\n  min-width: 280px;\n  max-width: 320px;\n  max-height: 552px;\n\n  & div:nth-child(2) {\n    padding: 0;\n  }\n"]))),xt=h.f.div(Ke||(Ke=Object(x.a)(["\n  height: 310px;\n  overflow-y: scroll;\n  border-bottom: ",";\n  padding: 24px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),pt=function(e){var t=e.totalCost,n=e.updateTicket,c=e.randomize,r=e.tickets,i=e.allComplete,o=e.onConfirm,a=e.isConfirming,s=e.onDismiss,l=e.isCheckingKYC,d=e.isWalletOkKYC,u=z().theme,b=Object(A.b)().t;return Object(y.jsxs)(jt,{title:b("Edit numbers"),onDismiss:s,headerBackground:u.colors.gradients.cardHeader,onBack:s,children:[Object(y.jsxs)(xt,{children:[Object(y.jsxs)(f.B,{justifyContent:"space-between",mb:"16px",children:[Object(y.jsxs)(f.cb,{color:"textSubtle",children:[b("Total cost"),":"]}),Object(y.jsxs)(f.cb,{children:["~",t," ",le.b().symbol]})]}),Object(y.jsx)(f.cb,{fontSize:"12px",color:"textSubtle",mb:"16px",children:b("Numbers are randomized, with no duplicates among your tickets. Tap a number to edit it. Available digits: 0-9")}),Object(y.jsx)(f.j,{disabled:a,mb:"16px",variant:"secondary",width:"100%",height:"32px",onClick:c,children:b("Randomize")}),r.map((function(e){return Object(y.jsx)(bt,{ticket:e,duplicateWith:e.duplicateWith,updateTicket:n,disabled:a},e.id)}))]}),Object(y.jsxs)(f.B,{flexDirection:"column",justifyContent:"center",m:"24px",children:[l&&Object(y.jsx)(f.j,{disabled:!0,width:"100%",isLoading:!0,children:"Loading..."}),!l&&!d&&Object(y.jsx)(f.j,{onClick:function(){var e,t;(null===(e=window)||void 0===e||null===(t=e.SO_LotteryConfig)||void 0===t?void 0:t.kycVerifyLink)&&window.open(window.SO_LotteryConfig.kycVerifyLink)},children:"Need KYC verify"}),!l&&d&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.j,{id:"lotteryBuyEdited",disabled:!i||a,endIcon:a?Object(y.jsx)(f.e,{spin:!0,color:"currentColor"}):void 0,onClick:function(){o()},children:b(a?"Confirming":"Confirm and buy")}),Object(y.jsxs)(f.j,{mt:"8px",variant:a?"secondary":"text",disabled:a,onClick:s,children:[Object(y.jsx)(f.b,{color:a?"disabled":"primary",height:"24px",width:"24px"})," ",b("Go back")]})]})]})]})},ht=function(e){var t=e.split("");return t.splice(0,1),t.reverse(),t.join("")},ft=function(e,t){var n=1e3*parseInt(t,10);return new Date(n).toLocaleDateString(e,gt)},Ot={year:"numeric",month:"short",day:"numeric"},mt={hour:"numeric",minute:"numeric"},gt=Object(m.a)(Object(m.a)({},Ot),mt),vt=function(e){var t=e.priceTicketInCake,n=e.discountDivisor,c=e.amountCollectedInCake,r=new W.a(n),i=new W.a(t),o=new W.a(c);return{isLoading:e.isLoading,lotteryId:e.lotteryId,userTickets:e.userTickets,status:e.status,startTime:e.startTime,endTime:e.endTime,priceTicketInCake:i,discountDivisor:r,treasuryFee:e.treasuryFee,firstTicketId:e.firstTicketId,lastTicketId:e.lastTicketId,amountCollectedInCake:o,finalNumber:e.finalNumber,cakePerBracket:e.cakePerBracket,countWinnersPerBracket:e.countWinnersPerBracket,rewardsBreakdown:e.rewardsBreakdown}},yt=window.SO_LotteryConfig.numbersCount,Ct=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:parseInt("1000000".substr(0,yt+1),10),c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:parseInt("1999999".substr(0,yt+1),10),r=(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return parseInt(null===e||void 0===e?void 0:e.number)})):[],i=Object(Te.a)(r),o=0;o<e;o++){for(var a=Object(we.random)(n,c);i.includes(a);)a=Object(we.random)(n,c);i.push(a)}var s=(null===t||void 0===t?void 0:t.length)>0?i.filter((function(e){return!r.includes(e)})):i;return console.log(">>> ticketsToBuy",s),s},wt=function(e){var t=e.amount,n=e.userCurrentTickets,c=Ct(t,n).map((function(e){return ht(e.toString()).split("")}));return{tickets:Array.from({length:t},(function(e,t){return t+1})).map((function(e){return{id:e,numbers:c[e-1],duplicateWith:[],isComplete:!0}})),allComplete:!0}},kt=window.SO_LotteryConfig.numbersCount,St=function(e,t){switch(t.type){case"updateTicket":var n=Object(Te.a)(e.tickets),c=t.payload,r=c.ticketId,i=c.newNumbers,o=e.tickets.filter((function(e){return e.id!==r&&e.isComplete&&e.numbers.join("")===i.join("")}));n[r-1].duplicateWith.forEach((function(e){if(!o.map((function(e){return e.id})).includes(e)){var t=Object(Te.a)(n[e-1].duplicateWith),c=t.findIndex((function(e){return e===r}));t.splice(c,1),n[e-1]=Object(m.a)(Object(m.a)({},n[e-1]),{},{duplicateWith:t})}})),0!==o.length&&o.forEach((function(e){n[e.id-1]=Object(m.a)(Object(m.a)({},e),{},{duplicateWith:[].concat(Object(Te.a)(e.duplicateWith),[r])})}));var a={id:r,numbers:i,duplicateWith:o.map((function(e){return e.id})),isComplete:i.join("").length===kt};n[r-1]=a;var s=n.every((function(e){return e.isComplete}));return{tickets:n,allComplete:s};case"reset":return wt({amount:t.payload.amount,userCurrentTickets:t.payload.userCurrentTickets});default:throw new Error}},Bt=["disabled"],It=Object(h.f)(f.j)($e||($e=Object(x.a)(["\n  margin-top: 5px;\n  margin-bottom: 5px;\n"]))),Lt=function(e){var t,n,c,r,i,o=e.disabled,a=Object(g.a)(e,Bt),s=Object(A.b)().t,l=null===(t=window)||void 0===t||null===(n=t.SO_LotteryConfig)||void 0===n?void 0:n.buyTokenLink,d=null===(c=window)||void 0===c||null===(r=c.SO_LotteryConfig)||void 0===r||null===(i=r.token)||void 0===i?void 0:i.symbol;return l?Object(y.jsx)(It,Object(m.a)(Object(m.a)({className:"primaryButton"},a),{},{disabled:o,onClick:function(e){e.preventDefault(),window.open(l)},children:s("Buy ".concat(d))})):null},Tt=Object(h.f)(f.N)(Ge||(Ge=Object(x.a)(["\n  min-width: 280px;\n  max-width: 320px;\n"]))),Dt=Object(h.f)(f.B)(Xe||(Xe=Object(x.a)(["\n  justify-content: space-between;\n  margin-top: 8px;\n  margin-bottom: 24px;\n  display: ",";\n"])),(function(e){return e.isVisible?"flex":"none"}));!function(e){e.BUY="Buy",e.EDIT="Edit"}(Je||(Je={}));var Ft,Et,Rt,Mt,Nt,At,Pt,zt,_t,Wt,Zt,Ht,Ut,Vt,Yt,qt,Qt,Kt,$t,Gt,Xt,Jt,en,tn,nn,cn,rn,on,an,sn,ln,dn,un,bn,jn,xn,pn,hn,fn,On,mn,gn,vn,yn,Cn,wn=function(e){var t=e.onDismiss,n=Object(Z.c)().account,c=Object(A.b)().t,r=z().theme,i=G(),o=i.maxNumberTicketsPerBuyOrClaim,a=i.currentLotteryId,s=i.currentRound,l=s.priceTicketInCake,d=s.discountDivisor,u=s.userTickets.tickets,x=function(){var e=Object(P.c)(),t=Object(Z.c)().library,n=Object(p.useCallback)(function(){var n=Object(te.a)(ee.a.mark((function n(c,r){var i,o,a,s,l,d,u=arguments;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=u.length>2&&void 0!==u[2]?u[2]:[],a=u.length>3&&void 0!==u[3]?u[3]:null,s=Object(we.get)(c,r),l=null===a||void 0===a?void 0:a.gasPrice,n.t0=s,n.t1=void 0,n.t2=Object(Te.a)(o),!l){n.next=11;break}n.t3=Object(m.a)({},a),n.next=22;break;case 11:return n.t4=m.a,n.t5=Object(m.a)({},a),n.t6={},n.next=16,null===t||void 0===t||null===(i=t.getGasPrice)||void 0===i?void 0:i.call(t);case 16:if(n.t7=n.sent,n.t7){n.next=19;break}n.t7=e;case 19:n.t8=n.t7,n.t9={gasPrice:n.t8},n.t3=(0,n.t4)(n.t5,n.t6,n.t9);case 22:return n.t10=n.t3,n.t11=[n.t10],n.t12=n.t2.concat.call(n.t2,n.t11),n.next=27,n.t0.apply.call(n.t0,n.t1,n.t12);case 27:return d=n.sent,n.abrupt("return",d);case 29:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e]);return{callWithGasPrice:n}}(),h=x.callWithGasPrice,O=Object(p.useState)(""),g=Object(j.a)(O,2),v=g[0],C=g[1],w=Object(p.useState)(""),k=Object(j.a)(w,2),S=k[0],B=k[1],I=Object(p.useState)(""),L=Object(j.a)(I,2),T=L[0],D=L[1],F=Object(p.useState)(""),E=Object(j.a)(F,2),R=E[0],M=E[1],N=Object(p.useState)(Je.BUY),_=Object(j.a)(N,2),H=_[0],V=_[1],q=Object(p.useState)(fe.c),Q=Object(j.a)(q,2),K=Q[0],$=Q[1],X=Object(p.useState)(!1),J=Object(j.a)(X,2),ne=J[0],ce=J[1],ie=Object(p.useState)(!1),oe=Object(j.a)(ie,2),ae=oe[0],se=oe[1],de=Object(Le.e)(),ue=Object(Le.b)(),be=Object(ke.a)().toastSuccess,je=Ce(le.a.cake.address),xe=je.balance,pe=je.fetchStatus,Oe=xe.toJSON(),me=Object(p.useMemo)((function(){return new W.a(Oe)}),[Oe]),ge=new W.a(le.b().price||0),ve=Object(U.b)(),ye=pe===b.SUCCESS,Se=Object(re.f)(xe,le.b().decimals,3),Be=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.cb,{mb:"16px",children:c("Buying multiple tickets in a single transaction gives a discount. The discount increases in a linear way, up to the maximum of 100 tickets:")}),Object(y.jsx)(f.cb,{children:c("2 tickets: 0.05%")}),Object(y.jsx)(f.cb,{children:c("50 tickets: 2.45%")}),Object(y.jsx)(f.cb,{children:c("100 tickets: 4.95%")})]})},De=Object(f.qb)(Object(y.jsx)(Be,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),Fe=De.targetRef,Ee=De.tooltip,Re=De.tooltipVisible,Ae=Object(p.useCallback)((function(e){return e.gt(o)?o:e}),[o]),Pe=Object(p.useCallback)((function(e){return l.times(e).times(d.plus(1).minus(e)).div(d)}),[d,l]),ze=Object(p.useCallback)((function(e){var t=Pe(e),n=l.times(e).minus(t).div(l);return{overallTicketBuy:e.plus(n),ticketsBoughtWithDiscount:n}}),[Pe,l]),_e=Object(p.useCallback)((function(e){var t=Ae(e);Pe(t).gt(xe)?se(!0):t.eq(o)?ce(!0):(se(!1),ce(!1))}),[Ae,Pe,o,xe]);Object(p.useEffect)((function(){!function(){var e,t=me.div(l),n=Ae(t);if(n.lt(o)){var c=ze(n).overallTicketBuy,r=ze(c).ticketsBoughtWithDiscount;e=n.plus(r)}else e=n;ye&&e.lt(1)?se(!0):se(!1),$(e)}()}),[o,l,me,Ae,Pe,ze,ye]);var We=Object(p.useState)(!0),Ze=Object(j.a)(We,2),Ve=Ze[0],Ye=Ze[1],qe=Object(p.useState)(!1),Qe=Object(j.a)(qe,2),Ke=(Qe[0],Qe[1]),$e=Object(p.useState)(!1),Ge=Object(j.a)($e,2),Xe=Ge[0],et=Ge[1];Object(p.useEffect)(Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ye(!0),!n||!de){e.next=26;break}return e.prev=2,e.next=5,de.existKyc();case 5:if(!e.sent){e.next=15;break}return e.next=9,de.checkWalletKYC(n);case 9:t=e.sent,Ke(!0),et(t),Ye(!1),e.next=18;break;case 15:Ke(!1),et(!0),Ye(!1);case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(2),Ke(!1),et(!0),Ye(!1),console.log(">>> NO KYC",e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,20]])}))),[n,de]),Object(p.useEffect)((function(){var e=new W.a(v),t=new W.a(Pe(e).toFixed(0)),n=new W.a(l.times(e).toFixed(0)),c=n.minus(t);M(n.gt(0)?Object(re.f)(n,le.b().decimals):"0"),D(t.gt(0)?Object(re.f)(t):"0"),B(c.gt(0)?Object(re.f)(c,le.b().decimals,5):"0")}),[v,l,d,Pe]);var tt=function(e){var t=K.gt(0)?K.div(new W.a(100)).times(new W.a(e)):fe.c;return Math.floor(t.toNumber())},nt=tt(10),ct=tt(25),rt=tt(50),it=tt(100),at=function(e){C(e.toFixed()),se(!1),ce(!1)},lt=function(e,t){var n=Object(p.useReducer)(St,{amount:e,userCurrentTickets:t},wt),c=Object(j.a)(n,2),r=c[0],i=c[1];return Object(p.useEffect)((function(){i({type:"reset",payload:{amount:e,userCurrentTickets:t}})}),[e,t]),[function(e,t){i({type:"updateTicket",payload:{ticketId:e,newNumbers:t}})},function(){i({type:"reset",payload:{amount:e,userCurrentTickets:t}})},r.tickets,r.allComplete,function(){return r.tickets.map((function(e){var t=Object(Te.a)(e.numbers).map((function(e){return parseInt(e,10)})).reverse();return t.unshift(1),parseInt(t.join(""),10)}))}]}(parseInt(v,10),u),dt=Object(j.a)(lt,5),ut=dt[0],bt=dt[1],jt=dt[2],xt=dt[3],ht=dt[4],ft=Object(p.useCallback)(Object(te.a)(ee.a.mark((function e(){var t,c,r,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.allowance(n,de.address);case 3:return t=e.sent,c=Object(fe.d)(t),r=Object(re.e)(new W.a(T),le.b().decimals),i=c.gte(r),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[T,n]),Ot=Ie({onRequiresApproval:Object(p.useMemo)((function(){return ft}),[T,n]),onApprove:function(){var e=he.a.BigNumber.from(Object(re.e)(new W.a(T),le.b().decimals).toString());return h(ue,"approve",[de.address,e])},onApproveSuccess:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,be(c("Contract enabled - you can now purchase tickets"),Object(y.jsx)(Ue.b,{txHash:n.transactionHash}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onConfirm:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ht(),e.prev=1,e.next=4,Ne(de,"buyTickets",[a,t],1e3);case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Estimate Gas Error: ",e.t0),n=1e5+22e4*t.length;case 11:return e.abrupt("return",h(de,"buyTickets",[a,t],{gasLimit:n}));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(te.a)(ee.a.mark((function e(r){var i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.receipt,t(),ve(Object(Y.g)({account:n,currentLotteryId:a})),be(c("Lottery tickets purchased!"),Object(y.jsx)(Ue.b,{txHash:i.transactionHash}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),mt=Ot.isApproving,gt=Ot.isApproved,vt=Ot.isConfirmed,yt=Ot.isConfirming,Ct=Ot.handleApprove,kt=Ot.handleConfirm,Bt=!gt||vt||ae||!v||new W.a(v).lte(0)||ht().length!==parseInt(v,10);return H===Je.EDIT?Object(y.jsx)(pt,{totalCost:T,updateTicket:ut,randomize:bt,tickets:jt,allComplete:xt,onConfirm:kt,isConfirming:yt,isCheckingKYC:Ve,isWalletOkKYC:Xe,onDismiss:function(){return V(Je.BUY)}}):Object(y.jsxs)(Tt,{title:c("Buy Tickets"),onDismiss:t,headerBackground:r.colors.gradients.cardHeader,children:[Re&&Ee,Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(y.jsxs)(f.cb,{color:"textSubtle",children:[c("Buy"),":"]}),Object(y.jsxs)(f.B,{alignItems:"center",minWidth:"70px",children:[Object(y.jsx)(f.cb,{mr:"4px",bold:!0,children:c("Tickets")}),Object(y.jsx)(f.eb,{})]})]}),Object(y.jsx)(f.f,{isWarning:n&&(ae||ne),placeholder:"0",value:v,onUserInput:function(e){var t=parseInt(e,10),n=new W.a(t),c=Ae(n);_e(n),C(t?c.toString():"")},currencyValue:ge.gt(0)&&"~".concat(v?Object(re.f)(l.times(new W.a(v)),le.b().decimals):"0.00"," ").concat(le.b().symbol)}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"flex-end",mt:"4px",mb:"12px",children:Object(y.jsxs)(f.B,{justifyContent:"flex-end",flexDirection:"column",children:[n&&(ae||ne)&&Object(y.jsx)(f.cb,{fontSize:"12px",color:"failure",children:ae?c("Insufficient ".concat(le.b().symbol," balance")):c("The maximum number of tickets you can buy in one transaction is %maxTickets%",{maxTickets:o.toString()})}),n&&Object(y.jsxs)(f.B,{justifyContent:"flex-end",children:[Object(y.jsxs)(f.cb,{fontSize:"12px",color:"textSubtle",mr:"4px",children:[le.b().symbol," ",c("Balance"),":"]}),ye?Object(y.jsx)(f.cb,{fontSize:"12px",color:"textSubtle",children:Se}):Object(y.jsx)(f.Z,{width:50,height:12})]})]})}),n&&!ye?Object(y.jsx)(f.Z,{width:"100%",height:20,mt:"8px",mb:"24px"}):Object(y.jsxs)(Dt,{isVisible:n&&ye&&it>=1,children:[nt>=1&&Object(y.jsx)(st,{onClick:function(){return at(nt)},children:ye?nt:""}),ct>=1&&Object(y.jsx)(st,{onClick:function(){return at(ct)},children:ye?ct:""}),rt>=1&&Object(y.jsx)(st,{onClick:function(){return at(rt)},children:ye?rt:""}),it>=1&&Object(y.jsx)(st,{onClick:function(){return at(it)},children:"MAX"})]}),Object(y.jsxs)(f.B,{flexDirection:"column",children:[Object(y.jsxs)(f.B,{mb:"8px",justifyContent:"space-between",children:[Object(y.jsxs)(f.cb,{color:"textSubtle",fontSize:"14px",children:[c("Cost")," (",le.b().symbol,")"]}),Object(y.jsxs)(f.cb,{color:"textSubtle",fontSize:"14px",children:[l&&Object(re.f)(l.times(v||0),le.b().decimals)," ",le.b().symbol]})]}),Object(y.jsxs)(f.B,{mb:"8px",justifyContent:"space-between",children:[Object(y.jsxs)(f.B,{children:[Object(y.jsxs)(f.cb,{display:"inline",bold:!0,fontSize:"14px",mr:"4px",children:[S&&T?function(){var e=new W.a(S).div(new W.a(R)).times(100);return e.isNaN()||e.eq(0)?0:e.toNumber().toFixed(2)}():0,"%"]}),Object(y.jsx)(f.cb,{display:"inline",color:"textSubtle",fontSize:"14px",children:c("Bulk discount")}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"center",ref:Fe,children:Object(y.jsx)(f.D,{ml:"4px",width:"14px",height:"14px",color:"textSubtle"})})]}),Object(y.jsxs)(f.cb,{fontSize:"14px",color:"textSubtle",children:["~",S," ",le.b().symbol]})]}),Object(y.jsxs)(f.B,{borderTop:"1px solid ".concat(r.colors.cardBorder),pt:"8px",mb:"24px",justifyContent:"space-between",children:[Object(y.jsx)(f.cb,{color:"textSubtle",fontSize:"16px",children:c("You pay")}),Object(y.jsxs)(f.cb,{fontSize:"16px",bold:!0,children:["~",T," ",le.b().symbol]})]}),n?Object(y.jsxs)(y.Fragment,{children:[Ve&&Object(y.jsx)(f.j,{disabled:!0,width:"100%",isLoading:!0,children:"Loading"}),!Ve&&!Xe&&Object(y.jsx)(f.j,{onClick:function(){var e,t;(null===(e=window)||void 0===e||null===(t=e.SO_LotteryConfig)||void 0===t?void 0:t.kycVerifyLink)&&window.open(window.SO_LotteryConfig.kycVerifyLink)},children:"Need KYC verify"}),!Ve&&Xe&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ot,{isApproveDisabled:gt||Ve,isApproving:mt,isConfirmDisabled:Bt||Ve,isConfirming:yt,onApprove:Ct,onConfirm:kt,buttonArrangement:Me.SEQUENTIAL,confirmLabel:c("Buy Instantly"),confirmId:"lotteryBuyInstant"}),gt&&Object(y.jsx)(f.j,{variant:"secondary",mt:"8px",endIcon:Object(y.jsx)(f.c,{ml:"2px",color:Bt||yt?"disabled":"primary",height:"24px",width:"24px"}),disabled:Bt||yt||Ve,onClick:function(){V(Je.EDIT)},children:c("View/Edit Numbers")}),Object(y.jsx)(Lt,{disabled:Ve,width:"100%"})]})]}):Object(y.jsx)(He,{}),Object(y.jsx)(f.cb,{mt:"24px",fontSize:"12px",color:"textSubtle",children:c('"Buy Instantly" chooses random numbers, with no duplicates among your tickets. Prices are set before each round starts, equal to $5 at that time. Purchases are final.')})]})]})},kn=["disabled"],Sn=Object(h.f)(f.j)(Ft||(Ft=Object(x.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n"]))),Bn=function(e){var t=e.disabled,n=Object(g.a)(e,kn),c=Object(A.b)().t,r=Object(f.pb)(Object(y.jsx)(wn,{})),i=Object(j.a)(r,1)[0],o=G().currentRound.status;return Object(y.jsx)(Sn,Object(m.a)(Object(m.a)({className:"primaryButton"},n),{},{disabled:t,onClick:i,children:o===O.a.OPEN?c("Buy Tickets"):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.jb,{mr:"4px",color:"textDisabled"})," ",c("On sale soon!")]})}))},In=Object(h.g)(Et||(Et=Object(x.a)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(10px, 10px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]))),Ln=Object(h.g)(Rt||(Rt=Object(x.a)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(-10px, 10px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]))),Tn=Object(h.g)(Mt||(Mt=Object(x.a)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(-10px, 15px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]))),Dn=Object(h.g)(Nt||(Nt=Object(x.a)(["\n  from {\n    transform: translate(0,  0px);\n  }\n  50% {\n    transform: translate(10px, 15px);\n  }\n  to {\n    transform: translate(0, -0px);\n  }  \n"]))),Fn=Object(h.g)(At||(At=Object(x.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  50% {\n    transform: rotate(6deg);\n  }\n  to {\n    transform: rotate(0deg);\n  }  \n"]))),En=Object(h.f)(f.B)(Pt||(Pt=Object(x.a)(["\n  animation: "," 3s ease-in-out infinite;\n"])),Fn),Rn=Object(h.f)(se)(zt||(zt=Object(x.a)(["\n  background: ",";\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"])),(function(e){return e.theme.colors.gradients.gold})),Mn=Object(h.f)(Bn)(_t||(_t=Object(x.a)(["\n  background: ",";\n  width: 200px;\n  "," {\n    width: 240px;\n  }\n"])),(function(e){var t=e.theme;return e.disabled?t.colors.disabled:"linear-gradient(180deg, #7645d9 0%, #452a7a 100%)"}),(function(e){return e.theme.mediaQueries.xs})),Nn=h.f.div(Wt||(Wt=Object(x.a)(["\n  z-index: 1;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) rotate(-4deg);\n"]))),An=h.f.div(Zt||(Zt=Object(x.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: rotate(-4deg);\n"]))),Pn=h.f.div(Ht||(Ht=Object(x.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: url(./images/decorations/bg-star.svg);\n  background-repeat: no-repeat;\n  background-position: center 0;\n"]))),zn=Object(h.f)(f.h)(Ut||(Ut=Object(x.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  & img {\n    position: absolute;\n  }\n\n  & :nth-child(1) {\n    animation: "," 3s ease-in-out infinite;\n    animation-delay: 0.25s;\n  }\n  & :nth-child(2) {\n    animation: "," 3.5s ease-in-out infinite;\n    animation-delay: 0.5s;\n  }\n  & :nth-child(3) {\n    animation: "," 4s ease-in-out infinite;\n    animation-delay: 0.75s;\n  }\n  & :nth-child(4) {\n    animation: "," 6s ease-in-out infinite;\n    animation-delay: 0.2s;\n  }\n  & :nth-child(5) {\n    animation: "," 6s ease-in-out infinite;\n  }\n\n  "," {\n    & :nth-child(1) {\n      left: 3%;\n      top: 42%;\n    }\n    & :nth-child(2) {\n      left: 9%;\n      top: 23%;\n    }\n    & :nth-child(3) {\n      right: 2%;\n      top: 24%;\n    }\n    & :nth-child(4) {\n      left: 8%;\n      top: 67%;\n    }\n    & :nth-child(5) {\n      right: 8%;\n      top: 67%;\n    }\n  }\n\n  "," {\n    & :nth-child(1) {\n      left: 10%;\n      top: 42%;\n    }\n    & :nth-child(2) {\n      left: 17%;\n      top: 23%;\n    }\n    & :nth-child(3) {\n      right: 10%;\n      top: 24%;\n    }\n    & :nth-child(4) {\n      left: 17%;\n      top: 67%;\n    }\n    & :nth-child(5) {\n      right: 17%;\n      top: 67%;\n    }\n  }\n\n  "," {\n    & :nth-child(1) {\n      left: 19%;\n      top: 42%;\n    }\n    & :nth-child(2) {\n      left: 25%;\n      top: 23%;\n    }\n    & :nth-child(3) {\n      right: 19%;\n      top: 24%;\n    }\n    & :nth-child(4) {\n      left: 24%;\n      top: 67%;\n    }\n    & :nth-child(5) {\n      right: 24%;\n      top: 67%;\n    }\n  }\n"])),In,In,Ln,Tn,Dn,(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.theme.mediaQueries.xl})),_n=function(){var e=Object(A.b)().t,t=G(),n=t.currentRound,c=n.amountCollectedInCake,r=n.status,i=t.isTransitioning,o=le.b().price||0,a=c.times(o),s=Object(re.d)(a,le.b().decimals),l=r!==O.a.OPEN||i;return Object(y.jsxs)(f.B,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(Pn,{}),Object(y.jsxs)(zn,{display:["none","none","block"],children:[Object(y.jsx)("img",{src:"./images/lottery/star-big.png",width:"124px",height:"109px",alt:""}),Object(y.jsx)("img",{src:"./images/lottery/star-small.png",width:"70px",height:"62px",alt:""}),Object(y.jsx)("img",{src:"./images/lottery/three-stars.png",width:"130px",height:"144px",alt:""}),Object(y.jsx)("img",{src:"./images/lottery/ticket-l.png",width:"123px",height:"83px",alt:""}),Object(y.jsx)("img",{src:"./images/lottery/ticket-r.png",width:"121px",height:"72px",alt:""})]}),le.b().price&&Object(y.jsx)(y.Fragment,{children:r===O.a.OPEN?Object(y.jsxs)(y.Fragment,{children:[a.isNaN()?Object(y.jsx)(f.Z,{my:"7px",height:60,width:190}):Object(y.jsx)(Rn,{fontSize:"64px",bold:!0,prefix:"$",value:s,mb:"8px",decimals:0}),Object(y.jsx)(f.C,{mb:"32px",scale:"lg",color:"#ffffff",children:e("in prizes!")})]}):Object(y.jsx)(f.C,{mb:"24px",scale:"xl",color:"#ffffff",children:e("Tickets on sale soon")})}),window&&window.SO_LotteryConfig&&window.SO_LotteryConfig.chainName&&Object(y.jsx)(f.C,{mb:"8px",scale:"md",color:"#ffffff",id:"lottery-hero-title",children:e("The Lottery operates on the %chainName% Network",{chainName:window.SO_LotteryConfig.chainName})}),Object(y.jsxs)(En,{position:"relative",width:["240px","288px"],height:["94px","113px"],alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(Nn,{children:Object(y.jsx)(Mn,{className:"primaryButton",disabled:l})}),Object(y.jsx)(An,{children:Object(y.jsx)(de,{width:"100%"})})]})]})},Wn=n(168),Zn=n(134),Hn=n(283),Un=n(282),Vn=Object(We.m)(),Yn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,c,r,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t=e.roundId,n=e.id,c=e.rewardBracket;return{name:"viewRewardsForTicketId",address:Vn,params:[t,n,c]}})),e.prev=1,e.next=4,Object(_e.b)(Wn,n);case 4:return c=e.sent,r=c.reduce((function(e,t){return e.plus(new W.a(t[0].toString()))}),fe.c),i=t.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{cakeReward:c[t]})})),e.abrupt("return",{ticketsWithUnclaimedRewards:i,cakeTotal:r});case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{ticketsWithUnclaimedRewards:null,cakeTotal:null});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),qn=function(e,t){for(var n=e.split("").reverse(),c=t.split("").reverse(),r=[],i=0;i<c.length-1&&n[i]===c[i];i++)r.push(n[i]);return r.length-1},Qn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,c,r,i,o,a,s,l,d;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.roundId,c=t.userTickets,r=t.finalNumber,i=c.map((function(e){return{roundId:n,id:e.id,number:e.number,status:e.status,rewardBracket:qn(e.number,r)}})),o=i.filter((function(e){return e.rewardBracket>=0})),!((a=o.filter((function(e){return!e.status}))).length>0)){e.next=11;break}return e.next=7,Yn(a);case 7:return s=e.sent,l=s.ticketsWithUnclaimedRewards,d=s.cakeTotal,e.abrupt("return",{ticketsWithUnclaimedRewards:l,allWinningTickets:o,cakeTotal:d,roundId:n});case 11:if(!(o.length>0)){e.next=13;break}return e.abrupt("return",{ticketsWithUnclaimedRewards:null,allWinningTickets:o,cakeTotal:null,roundId:n});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kn=function(e,t){var n=t.find((function(t){return t.id===e}));return null===n||void 0===n?void 0:n.finalNumber},$n=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,c,r){var i,o,a,s,l,d,u,b,j,x,p,h;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(i=n.rounds).length){e.next=3;break}return e.abrupt("return",[]);case 3:if(n.account.toLowerCase()===t.toLowerCase()){e.next=5;break}return e.abrupt("return",[]);case 5:if(o=i.filter((function(e){var t=parseInt(r,10)-Un.a;return parseInt(e.lotteryId,10)>=t})),a=o.filter((function(e){return e.status.toLowerCase()===O.a.CLAIMABLE})),s=a.filter((function(e){return!e.claimed||parseInt(e.totalTickets,10)>100})),!((l=s.slice(0,Zn.a)).length>0)){e.next=22;break}return d=l.map((function(e){return e.lotteryId})),e.next=13,Object(Hn.a)(d,t);case 13:return u=e.sent,b=u.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.userTickets)||void 0===t?void 0:t.length)>0})),j=b.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{finalNumber:Kn(e.roundId,c)})})),e.next=18,Promise.all(j.map((function(e){return Qn(e)})));case 18:return x=e.sent,p=x.filter((function(e){return null!==e})),h=p.filter((function(e){return e.ticketsWithUnclaimedRewards})),e.abrupt("return",h);case 22:return e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),Gn=$n,Xn=n(170),Jn=n.n(Xn),ec=["number","size","fontSize","rotateText"],tc=function(e){var t=e.number,n=e.size,c=void 0===n?"32px":n,r=e.fontSize,i=void 0===r?"16px":r,o=e.rotateText,a=Object(g.a)(e,ec),s=Object(p.useState)([]),l=Object(j.a)(s,2),d=l[0],u=l[1],b=ht(t).split("").slice(0,window.SO_LotteryConfig.numbersCount),x=["pink","lilac","teal","aqua","green","yellow"];return Object(p.useEffect)((function(){o&&b&&0===d.length&&u(b.map((function(){return Object(we.random)(-30,30)})))}),[o,b,d]),Object(y.jsx)(f.B,Object(m.a)(Object(m.a)({justifyContent:"left",maxHeight:"71px"},a),{},{children:b.map((function(e,t){return Object(y.jsx)(pe,{rotationTransform:o&&d[t],size:c,fontSize:i,color:x[t],number:e},Jn()())}))}))},nc=window.SO_LotteryConfig.numbersCount,cc=Object(h.f)(f.B)(Vt||(Vt=Object(x.a)(["\n  position: relative;\n  padding: 4px 16px;\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  justify-content: space-between;\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.background})),rc=h.f.div(Yt||(Yt=Object(x.a)(["\n  z-index: 1;\n  width: ",";\n  height: 34px;\n  border-radius: ",";\n  top: 0;\n  left: 0;\n  position: absolute;\n  border: 2px "," solid;\n"])),(function(e){var t=e.numberMatches;return"".concat(t<nc?t*(100/nc):100,"%")}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.primary})),ic=function(e){var t=e.localId,n=e.id,c=e.number,r=e.rewardBracket,i=Object(A.b)().t,o=ht(c).split("").slice(0,window.SO_LotteryConfig.numbersCount),a=r+1;return Object(y.jsxs)(f.B,{flexDirection:"column",mb:"12px",children:[Object(y.jsxs)(f.B,{justifyContent:"space-between",children:[Object(y.jsxs)(f.cb,{fontSize:"12px",color:"textSubtle",children:["#",parseInt(n,10)+1]}),r>=0&&Object(y.jsxs)(f.cb,{fontSize:"12px",children:[i("Matched first")," ",a]})]}),Object(y.jsxs)(cc,{children:[r>=0&&Object(y.jsx)(rc,{numberMatches:a}),o.map((function(e){return Object(y.jsx)(f.cb,{fontSize:"16px",children:e},"".concat(t||n,"-").concat(e,"-").concat(Jn()()))}))]})]})},oc=n(656),ac=n(657),sc=n(279),lc=function(e){var t,n=e.onSuccess,c=e.roundsToClaim,r=Object(Z.c)(),i=r.account,o=r.library,a=Object(A.b)().t,s=Object(U.b)(),l=G(),d=l.maxNumberTicketsPerBuyOrClaim,u=l.currentLotteryId,b=Object(P.c)(),x=Object(ke.a)(),h=x.toastSuccess,O=x.toastError,m=Object(p.useState)(0),g=Object(j.a)(m,2),v=g[0],C=g[1],w=Object(p.useState)(!1),k=Object(j.a)(w,2),S=k[0],B=k[1],I=Object(p.useState)(Math.ceil(c[v].ticketsWithUnclaimedRewards.length/d.toNumber())),L=Object(j.a)(I,2),T=L[0],D=L[1],F=Object(Le.e)(),E=c[v],R=Object(sc.b)(),M=E.cakeTotal,N=M.times(R),z=Object(re.c)(M).toNumber(),_=Object(re.c)(N).toNumber(),W=(t=E.ticketsWithUnclaimedRewards,{lotteryId:E.roundId,ticketIds:t.map((function(e){return e.id})),brackets:t.map((function(e){return e.rewardBracket}))}),H=d.lt(W.ticketIds.length),V=function(){c.length>v+1?(C(v+1),s(Object(Y.f)({account:i,currentLotteryId:u}))):n()},q=function(e,t){for(var n=[],c=d.toNumber(),r=0;r<e.length;r+=c){var i=e.slice(r,c+r),o=t.slice(r,c+r);n.push({ticketIds:i,brackets:o})}return n},Q=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,c,r,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W.lotteryId,n=W.ticketIds,c=W.brackets,B(!0),e.prev=2,e.t0=Ae,e.t1=F,e.t2=[t,n,c],e.next=8,null===o||void 0===o||null===(r=o.getGasPrice)||void 0===r?void 0:r.call(o);case 8:if(e.t3=e.sent,e.t3){e.next=11;break}e.t3=b;case 11:return e.t4=e.t3,e.t5={gasPrice:e.t4},e.next=15,(0,e.t0)(e.t1,"claimTickets",e.t2,e.t5);case 15:return i=e.sent,e.next=18,i.wait();case 18:(s=e.sent).status&&(h(a("Prizes Collected!"),Object(y.jsx)(Ue.b,{txHash:s.transactionHash,children:a("Your %symbol% prizes for round %lotteryId% have been sent to your wallet",{lotteryId:t,symbol:le.b().symbol})})),B(!1),V()),e.next=27;break;case 22:e.prev=22,e.t6=e.catch(2),console.error(e.t6),O(a("Error"),a("%error% - Please try again.",{error:e.t6.message})),B(!1);case 27:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,c,r,i,o,s,l,d;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=W.lotteryId,n=q(W.ticketIds,W.brackets),c=n.length,r=[],B(!0),i=Object(ac.a)(n),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=28;break}return s=o.value,e.prev=10,e.next=13,Ae(F,"claimTickets",[t,s.ticketIds,s.brackets],{gasPrice:b});case 13:return l=e.sent,e.next=16,l.wait();case 16:(d=e.sent).status&&(r.push(d),D(c-r.length),r.length!==c&&h(a("Prizes Collected!"),Object(y.jsx)(Ue.b,{txHash:d.transactionHash,children:a("Claim %claimNum% of %claimTotal% for round %lotteryId% was successful. Please confirm the next transaction",{claimNum:r.length,claimTotal:c,lotteryId:t})}))),e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(10),console.error(e.t0),B(!1),O(a("Error"),a("%error% - Please try again.",{error:e.t0.message})),e.abrupt("break",28);case 26:e.next=8;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(6),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:r.length===c&&(B(!1),h(a("Prizes Collected!"),a("Your %symbol% prizes for round %lotteryId% have been sent to your wallet",{lotteryId:t,symbol:le.b().symbol})),V());case 37:case"end":return e.stop()}}),e,null,[[6,30,33,36],[10,20]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(f.B,{flexDirection:"column",children:[Object(y.jsx)(f.cb,{mb:"4px",textAlign:["center",null,"left"],children:a("You won")}),Object(y.jsxs)(f.B,{alignItems:["flex-start",null,"center"],justifyContent:["flex-start",null,"space-between"],flexDirection:["column",null,"row"],children:[Object(y.jsx)(se,{textAlign:["center",null,"left"],lineHeight:"1.1",value:z,fontSize:"44px",bold:!0,color:"secondary",unit:" ".concat(le.b().symbol,"!")}),Object(y.jsx)(f.W,{ml:["0",null,"12px"],width:"64px"})]}),Object(y.jsx)(se,{mt:["12px",null,"0"],textAlign:["center",null,"left"],value:_,fontSize:"12px",color:"textSubtle",unit:" USD",prefix:"~"})]}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"center",children:Object(y.jsxs)(f.cb,{mt:"8px",fontSize:"12px",color:"textSubtle",children:[a("Round")," #",E.roundId]})}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"center",children:Object(y.jsxs)(f.j,{isLoading:S,endIcon:S?Object(y.jsx)(f.e,{spin:!0,color:"currentColor"}):null,mt:"20px",width:"100%",onClick:function(){return H?K():Q()},children:[a(S?"Claiming":"Claim")," ",T>1?"(".concat(T,")"):""]})})]})},dc=Object(h.f)(f.Q)(qt||(qt=Object(x.a)(["\n  position: relative;\n  overflow: visible;\n\n  "," {\n    min-width: 380px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),uc=Object(h.f)(f.R)(Qt||(Qt=Object(x.a)(["\n  background: ",";\n  border-top-right-radius: 32px;\n  border-top-left-radius: 32px;\n"])),(function(e){return e.theme.colors.gradients.cardHeader})),bc=h.f.div(Kt||(Kt=Object(x.a)(["\n  position: absolute;\n  top: -116px; // line up bunny at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n"]))),jc=function(){Object(oc.a)({particleCount:200,startVelocity:30,gravity:.5,spread:350,origin:{x:.5,y:.3}})},xc=function(e){var t=e.onDismiss,n=e.roundsToClaim,c=Object(A.b)().t,r=Object(Z.c)().account,i=G().currentLotteryId,o=Object(U.b)();return Object(p.useEffect)((function(){Object(we.delay)(jc,100)}),[]),Object(y.jsxs)(dc,{minWidth:"280px",children:[Object(y.jsx)(bc,{children:Object(y.jsx)("img",{src:"./images/decorations/prize-bunny.png",alt:"bunny decoration",height:"124px",width:"168px"})}),Object(y.jsxs)(uc,{children:[Object(y.jsx)(f.T,{children:Object(y.jsx)(f.C,{children:c("Collect Winnings")})}),Object(y.jsx)(f.P,{onDismiss:t})]}),Object(y.jsx)(f.O,{p:"24px",children:Object(y.jsx)(lc,{onSuccess:function(){o(Object(Y.f)({account:r,currentLotteryId:i})),t()},roundsToClaim:n})})]})},pc=Object(h.f)(f.B)($t||($t=Object(x.a)(["\n  flex-direction: column;\n  margin: -24px;\n  padding: 24px;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.colors.dropdown}),(function(e){return e.theme.colors.cardBorder})),hc=Object(h.f)(f.h)(Gt||(Gt=Object(x.a)(["\n  margin-right: -20px;\n  padding-right: 24px;\n  max-height: 300px;\n  overflow-y: scroll;\n  margin-top: 24px;\n"]))),fc=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.Z,{width:"32px",height:"12px",mt:"2px",mb:"4px"}),Object(y.jsx)(f.Z,{width:"100%",height:"34px",mb:"12px"})]})},Oc=function(e){var t,n,c=e.roundId,r=Object(p.useState)(null),i=Object(j.a)(r,2),o=i[0],a=i[1],s=Object(p.useState)(null),l=Object(j.a)(s,2),d=l[0],u=l[1],b=Object(p.useState)({allWinningTickets:null,ticketsWithUnclaimedRewards:null,isFetched:!1,claimData:null}),x=Object(j.a)(b,2),h=x[0],O=x[1],m=Object(A.b)().t,g=z().theme,v=Object(Z.c)().account,C=(n=c,K().rounds.find((function(e){return e.lotteryId===n}))).totalTickets,w=Object(f.pb)(Object(y.jsx)(xc,{roundsToClaim:[h.claimData]}),!1),k=Object(j.a)(w,1)[0],S=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.cb,{mb:"16px",children:m("Tickets must match the winning number in the exact same order, starting from the first digit.")}),Object(y.jsx)(f.cb,{mb:"16px",children:m("If the winning number is \u201c123456\u201d:")}),Object(y.jsx)(f.cb,{mb:"4px",children:m("\u201c120000\u201d matches the first 2 digits.")}),Object(y.jsx)(f.cb,{children:m("\u201c000006\u201d matches the last digit, but since the first five digits are wrong, it doesn\u2019t win any prizes.")})]})},B=Object(f.qb)(Object(y.jsx)(S,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),I=B.targetRef,L=B.tooltip,T=B.tooltipVisible;Object(p.useEffect)((function(){var e=function(e,t){return e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return n||e}))},t=function(){var t=Object(te.a)(ee.a.mark((function t(){var n,r,i,o,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Hn.b)(v,c);case 2:return n=t.sent,t.next=5,Object(q.b)(c);case 5:return r=t.sent,i=vt(r),t.next=9,Qn({roundId:c,userTickets:n,finalNumber:i.finalNumber.toString()});case 9:o=t.sent,O({isFetched:!0,allWinningTickets:null===o||void 0===o?void 0:o.allWinningTickets,ticketsWithUnclaimedRewards:null===o||void 0===o?void 0:o.ticketsWithUnclaimedRewards,claimData:o}),a(i),(null===o||void 0===o?void 0:o.allWinningTickets)?(s=e(n,o.allWinningTickets),l=s.sort((function(e,t){var n=void 0===e.rewardBracket?0:e.rewardBracket+1;return(void 0===t.rewardBracket?0:t.rewardBracket+1)-n})),u(l)):u(n);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[c,v,C]);return Object(y.jsxs)(y.Fragment,{children:[T&&L,Object(y.jsxs)(pc,{children:[Object(y.jsx)(f.cb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",mb:"4px",children:m("Winning number")}),(null===o||void 0===o?void 0:o.finalNumber)?Object(y.jsx)(tc,{number:o.finalNumber.toString()}):Object(y.jsx)(f.Z,{width:"230px",height:"34px"})]}),Object(y.jsxs)(hc,{children:[Object(y.jsx)(f.cb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",my:"16px",children:m("Your tickets")}),Object(y.jsxs)(f.B,{mb:"8px",justifyContent:"space-between",children:[Object(y.jsxs)(f.B,{children:[Object(y.jsx)(f.eb,{width:"24px",height:"24px",mr:"8px"}),Object(y.jsxs)(f.cb,{bold:!0,color:"text",children:[m("Total tickets"),":"]})]}),Object(y.jsx)(f.cb,{bold:!0,color:"text",children:d?d.length:Object(y.jsx)(f.Z,{width:"56px",height:"24px"})})]}),Object(y.jsxs)(f.B,{mb:"24px",justifyContent:"space-between",children:[Object(y.jsxs)(f.B,{children:[Object(y.jsx)(f.W,{width:"24px",height:"24px",mr:"8px"}),Object(y.jsxs)(f.cb,{bold:!0,color:"text",children:[m("Winning tickets"),":"]})]}),Object(y.jsx)(f.cb,{bold:!0,color:"text",children:h.isFetched?(null===h||void 0===h||null===(t=h.allWinningTickets)||void 0===t?void 0:t.length)||"0":Object(y.jsx)(f.Z,{width:"40px",height:"24px"})})]}),d?d.map((function(e){return Object(y.jsx)(ic,{id:e.id,number:e.number,rewardBracket:e.rewardBracket,status:e.status},e.id)})):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(fc,{}),Object(y.jsx)(fc,{}),Object(y.jsx)(fc,{}),Object(y.jsx)(fc,{})]})]}),Object(y.jsx)(f.B,{borderTop:"1px solid ".concat(g.colors.cardBorder),alignItems:"center",justifyContent:"center",children:h.isFetched&&function(){var e;return(null===h||void 0===h||null===(e=h.ticketsWithUnclaimedRewards)||void 0===e?void 0:e.length)>0?Object(y.jsx)(f.j,{onClick:k,mt:"24px",width:"100%",children:m("Collect Prizes")}):h.allWinningTickets?null:Object(y.jsx)("div",{ref:I,children:Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",mt:"20px",children:[Object(y.jsx)(f.F,{height:"20px",width:"20px",color:"textSubtle",mr:"8px"}),Object(y.jsx)(f.gb,{color:"textSubtle",children:m("Why didn't I win?")})]})})}()})]})},mc=Object(h.f)(f.h)(Xt||(Xt=Object(x.a)(["\n  max-height: 300px;\n  overflow-y: scroll;\n  margin-left: -24px;\n  margin-right: -24px;\n  padding-left: 24px;\n  padding-right: 20px;\n"]))),gc=function(){var e=Object(A.b)().t,t=z().theme,n=G(),c=n.isTransitioning,r=n.currentRound,i=r.status,o=r.userTickets,a=i!==O.a.OPEN||c;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(f.B,{flexDirection:"column",children:[Object(y.jsx)(f.cb,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",mb:"16px",children:e("Your tickets")}),Object(y.jsx)(mc,{children:o.tickets.map((function(e,t){return Object(y.jsx)(ic,{localId:t+1,id:e.id,number:e.number,status:e.status},e.id)}))})]}),Object(y.jsx)(f.B,{borderTop:"1px solid ".concat(t.colors.cardBorder),alignItems:"center",justifyContent:"center",children:Object(y.jsx)(Bn,{disabled:a,mt:"24px",width:"100%"})})]})},vc=Object(h.f)(f.N)(Jt||(Jt=Object(x.a)(["\n  min-width: 280px;\n  max-width: 320px;\n"]))),yc=function(e){var t=e.onDismiss,n=e.roundId,c=e.roundStatus,r=Object(A.b)().t,i=z().theme,o=G().currentLotteryId,a=(null===c||void 0===c?void 0:c.toLowerCase())===O.a.CLAIMABLE||n!==o;return Object(y.jsx)(vc,{title:"".concat(r("Round")," ").concat(n),onDismiss:t,headerBackground:i.colors.gradients.cardHeader,children:a?Object(y.jsx)(Oc,{roundId:n}):Object(y.jsx)(gc,{})})},Cc=function(e){var t=e.rewardBracket,n=e.cakeAmount,c=e.numberWinners,r=e.isHistoricRound,i=e.isBurn,o=e.isLoading,a=Object(A.b)().t,s=Object(sc.b)();return Object(y.jsxs)(f.B,{flexDirection:"column",children:[o?Object(y.jsx)(f.Z,{mb:"4px",mt:"8px",height:16,width:80}):Object(y.jsx)(f.cb,{bold:!0,color:i?"failure":"secondary",children:function(){var e=t+1;return i?a("Burn"):a(5===t?"Match all %numberMatch%":"Match first %numberMatch%",{numberMatch:e})}()}),Object(y.jsxs)(y.Fragment,{children:[o||n.isNaN()?Object(y.jsx)(f.Z,{my:"4px",mr:"10px",height:20,width:110}):Object(y.jsx)(se,{fontSize:"20px",bold:!0,unit:" ".concat(le.b().symbol),value:Object(re.d)(n,le.b().decimals),decimals:le.b().viewDecimals}),o||n.isNaN()?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(f.Z,{mt:"4px",mb:"16px",height:12,width:70})}):Object(y.jsx)(se,{fontSize:"12px",color:"textSubtle",prefix:"~$",value:Object(re.d)(n.times(s),le.b().decimals),decimals:le.b().viewDecimals}),r&&n&&Object(y.jsxs)(y.Fragment,{children:["0"!==c&&Object(y.jsxs)(f.cb,{fontSize:"12px",color:"textSubtle",children:[Object(re.f)(n.div(parseInt(c,10)),le.b().decimals,2)," ",le.b().symbol," ",a("each")]}),Object(y.jsxs)(f.cb,{fontSize:"12px",color:"textSubtle",children:[c," ",a("Winners")]})]})]})]})},wc=Object(h.f)(f.B)(en||(en=Object(x.a)(["\n  width: 100%;\n  flex-direction: column;\n"]))),kc=h.f.div(tn||(tn=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, auto);\n  row-gap: 16px;\n\n  "," {\n    grid-template-columns: repeat(4, 1fr);\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Sc=function(e){var t=e.lotteryNodeData,n=e.isHistoricRound,c=Object(A.b)().t,r=Object(p.useState)({isLoading:!0,cakeToBurn:fe.c,rewardsLessTreasuryFee:fe.c,rewardsBreakdown:null,countWinnersPerBracket:null}),i=Object(j.a)(r,2),o=i[0],a=i[1];Object(p.useEffect)((function(){if(t){var e=t.treasuryFee,n=t.amountCollectedInCake,c=t.rewardsBreakdown,r=t.countWinnersPerBracket,i=new W.a(e).div(100).div(100).times(new W.a(n)),o=new W.a(n).minus(i);a({isLoading:!1,cakeToBurn:i,rewardsLessTreasuryFee:o,rewardsBreakdown:c,countWinnersPerBracket:r})}else a({isLoading:!0,cakeToBurn:fe.c,rewardsLessTreasuryFee:fe.c,rewardsBreakdown:null,countWinnersPerBracket:null})}),[t]);var s=function(e){var t=new W.a(o.rewardsBreakdown[e]).div(100);return o.rewardsLessTreasuryFee.div(100).times(t)},l=o.isLoading,d=o.countWinnersPerBracket,u=o.cakeToBurn,b=[0,1,2,3,4,5].slice(0,window.SO_LotteryConfig.numbersCount);return Object(y.jsxs)(wc,{children:[Object(y.jsxs)(f.cb,{fontSize:"14px",mb:"24px",children:[c("Match the winning number in the same order to share prizes.")," ",!n&&c("Current prizes up for grabs:")]}),Object(y.jsxs)(kc,{children:[b.map((function(e){return Object(y.jsx)(Cc,{rewardBracket:e,cakeAmount:!l&&s(e),numberWinners:!l&&d[e],isHistoricRound:n,isLoading:l},e)})),Object(y.jsx)(Cc,{rewardBracket:0,cakeAmount:u,isBurn:!0,isLoading:l})]})]})},Bc=n(722),Ic=h.f.div(nn||(nn=Object(x.a)(["\n  display: grid;\n  grid-template-columns: auto;\n\n  "," {\n    grid-column-gap: 32px;\n    grid-template-columns: auto 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Lc=Object(h.f)(f.cb)(cn||(cn=Object(x.a)(["\n  margin-top: 14px;\n"]))),Tc=Object(h.f)(f.m)(rn||(rn=Object(x.a)(["\n  width: 100%;\n\n  "," {\n    width: 520px;\n  }\n\n  "," {\n    width: 756px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),Dc=h.f.div(on||(on=Object(x.a)(["\n  background: ",";\n  padding: 24px;\n"])),(function(e){return e.theme.colors.background})),Fc=function(){var e,t=Object(A.b)(),n=t.t,c=t.currentLanguage.locale,r=Object(Z.c)().account,i=Object(Le.e)(),o=G(),a=o.currentLotteryId,s=o.isTransitioning,l=o.currentRound,d=l.endTime,u=l.amountCollectedInCake,b=l.userTickets,x=l.status,h=Object(f.pb)(Object(y.jsx)(yc,{roundId:a,roundStatus:x})),m=Object(j.a)(h,1)[0],g=Object(p.useState)(!1),v=Object(j.a)(g,2),C=v[0],w=v[1],k=x!==O.a.OPEN||s,S=le.b().price||0,B=u.times(S),I=1e3*parseInt(d,10),L=new Date(I),T=x===O.a.OPEN,D=(null===b||void 0===b||null===(e=b.tickets)||void 0===e?void 0:e.length)||0,F=Object(p.useState)(!0),E=Object(j.a)(F,2),R=E[0],M=E[1],N=Object(p.useState)(!1),P=Object(j.a)(N,2),z=(P[0],P[1]),_=Object(p.useState)(!1),W=Object(j.a)(_,2),H=(W[0],W[1]),U=Object(p.useState)(!1),V=Object(j.a)(U,2),Y=V[0],q=V[1],Q=Object(p.useState)(0),K=Object(j.a)(Q,2),$=K[0],X=K[1];Object(p.useEffect)(Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),!r||!i){e.next=21;break}return e.prev=2,e.next=5,i.existKyc();case 5:if(!e.sent){e.next=13;break}return e.next=9,i.checkWalletKYC(r);case 9:t=e.sent,window&&window.SO_LotteryConfig&&window.SO_LotteryConfig.kycOracle&&!t?Bc.a.get(window.SO_LotteryConfig.kycOracle+"check/"+r).then((function(e){var t=e.data;t.dest;t.source?(console.log(e),console.log(">>> need bridge"),z(!0),Bc.a.get(window.SO_LotteryConfig.kycOracle+"attest/"+r).then((function(e){var t=e.data,n=e.data,c=n.error,r=n.answer;console.log(">>>> bridge answer",t),q("already attested"==c||"attested"==r),H(!0),M(!1),z(!1)})).catch((function(e){console.log(e),H(!0),q(!1),M(!1),z(!1)}))):(H(!0),q(!1),M(!1))})).catch((function(e){console.log(e),H(!0),q(!1),M(!1)})):(H(!0),q(t),M(!1)),e.next=16;break;case 13:H(!1),q(!0),M(!1);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),$>0?(H(!1),q(!0),M(!1),console.log(">>> NO KYC",$,r,i,e.t0)):X($+1);case 21:case"end":return e.stop()}}),e,null,[[2,18]])}))),[r,i,$]);var J=n(D>1?"You have %amount% tickets this round":"You have %amount% ticket this round",{amount:D}).split(D.toString()),ne=Object(j.a)(J,2),ce=ne[0],ie=ne[1];return Object(y.jsxs)(Tc,{children:[Object(y.jsx)(f.p,{p:"16px 24px",children:Object(y.jsxs)(f.B,{justifyContent:"space-between",children:[Object(y.jsx)(f.C,{mr:"12px",children:n("Next Draw")}),Object(y.jsxs)(Lc,{children:[a&&"#".concat(x===O.a.OPEN?"".concat(a," |"):x===O.a.PENDING?"":parseInt(a,10)+1)," ",Boolean(d)&&(x===O.a.OPEN?"".concat(n("Draw"),": ").concat(L.toLocaleString(c,gt)):"")]})]})}),Object(y.jsx)(f.n,{children:Object(y.jsxs)(Ic,{children:[Object(y.jsx)(f.B,{justifyContent:["center",null,null,"flex-start"],children:Object(y.jsx)(f.C,{children:n("Prize Pot")})}),Object(y.jsx)(f.B,{flexDirection:"column",mb:"18px",children:x===O.a.CLOSE||x===O.a.CLAIMABLE?Object(y.jsxs)(f.C,{scale:"xl",color:"secondary",style:{marginTop:"4px"},textAlign:["center",null,null,"left"],children:[n("Calculating"),"..."]}):le.b().price?Object(y.jsxs)(y.Fragment,{children:[B.isNaN()?Object(y.jsx)(f.Z,{my:"7px",height:40,width:160}):Object(y.jsx)(se,{fontSize:"40px",color:"secondary",textAlign:["center",null,null,"left"],lineHeight:"1",bold:!0,prefix:"~$",value:Object(re.d)(B,le.b().decimals),decimals:0}),B.isNaN()?Object(y.jsx)(f.Z,{my:"2px",height:14,width:90}):Object(y.jsx)(se,{fontSize:"14px",color:"textSubtle",textAlign:["center",null,null,"left"],unit:" ".concat(le.b().symbol),value:Object(re.d)(u,le.b().decimals),decimals:0})]}):Object(y.jsx)(se,{fontSize:"40px",color:"secondary",textAlign:["center",null,null,"left"],lineHeight:"1",bold:!0,unit:" ".concat(le.b().symbol),value:Object(re.d)(u,le.b().decimals),decimals:le.b().viewDecimals})}),Object(y.jsx)(f.h,{display:["none",null,null,"flex"],children:Object(y.jsx)(f.C,{children:n("Your tickets")})}),Object(y.jsxs)(f.B,{flexDirection:["column",null,null,"row"],alignItems:["center",null,null,"center"],children:[T&&Object(y.jsxs)(f.B,{flexDirection:"column",mr:[null,null,null,"24px"],alignItems:["center",null,null,"flex-start"],children:[r&&Object(y.jsxs)(f.B,{justifyContent:["center",null,null,"flex-start"],style:{whiteSpace:"nowrap"},children:[Object(y.jsxs)(f.cb,{display:"inline",children:[ce," "]}),b.isLoading?Object(y.jsx)(f.Z,{mx:"4px",height:20,width:40}):Object(y.jsx)(se,{value:D,decimals:0,display:"inline",bold:!0,mx:"4px"}),Object(y.jsxs)(f.cb,{display:"inline",children:[" ",ie]})]}),!b.isLoading&&D>0&&Object(y.jsx)(f.j,{className:"textButton",onClick:m,height:"auto",width:"fit-content",p:"0",mb:["32px",null,null,"0"],variant:"text",scale:"sm",children:n("View your tickets")})]}),R&&r&&Object(y.jsx)(f.j,{disabled:!0,children:"Checking KYC..."}),!R&&!Y&&r&&Object(y.jsx)(f.j,{onClick:function(){var e,t;(null===(e=window)||void 0===e||null===(t=e.SO_LotteryConfig)||void 0===t?void 0:t.kycVerifyLink)&&window.open(window.SO_LotteryConfig.kycVerifyLink)},children:"Need KYC verify"}),r?Object(y.jsx)(y.Fragment,{children:!R&&Y&&Object(y.jsx)(Bn,{disabled:k,maxWidth:"280px"})}):Object(y.jsx)(He,{}),Object(y.jsx)(Lt,{disabled:!1,maxWidth:"280px"})]})]})}),Object(y.jsxs)(f.o,{p:"0",children:[C&&Object(y.jsx)(Dc,{children:Object(y.jsx)(Sc,{lotteryNodeData:l})}),(x===O.a.OPEN||x===O.a.CLOSE)&&Object(y.jsx)(f.B,{p:"8px 24px",alignItems:"center",justifyContent:"center",children:Object(y.jsx)(f.A,{expanded:C,onClick:function(){return w(!C)},children:n(C?"Hide":"Details")})})]})]})},Ec=3600,Rc=86400,Mc=2629800,Nc=31557600,Ac=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=Nc&&(n.years=Math.floor(t/Nc),t-=n.years*Nc),t>=Mc&&(n.months=Math.floor(t/Mc),t-=n.months*Mc),t>=Rc&&(n.days=Math.floor(t/Rc),t-=n.days*Rc),t>=Ec&&(n.hours=Math.floor(t/Ec),t-=n.hours*Ec),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n},Pc=Object(h.f)(f.B)(an||(an=Object(x.a)(["\n  ","\n  div:last-of-type {\n    margin-right: 0;\n  }\n"])),(function(e){var t=e.theme;return e.showTooltip?" border-bottom: 1px dashed ".concat(t.colors.textSubtle,";"):""})),zc=Object(h.f)(f.C)(sn||(sn=Object(x.a)(["\n  background: ",";\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n"])),(function(e){return e.theme.colors.gradients.gold})),_c=function(e){var t=e.minutes,n=e.hours,c=e.days,r=Object(A.b)().t;return Object(y.jsxs)(Pc,{alignItems:"flex-end",children:[Boolean(c)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(zc,{mb:"-4px",scale:"xl",mr:"4px",children:c}),Object(y.jsx)(zc,{mr:"12px",children:r("d")})]}),Boolean(n)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(zc,{mb:"-4px",scale:"xl",mr:"4px",children:n}),Object(y.jsx)(zc,{mr:"12px",children:r("h")})]}),Boolean(t)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(zc,{mb:"-4px",scale:"xl",mr:"4px",children:t}),Object(y.jsx)(zc,{mr:"12px",children:r("m")})]})]})},Wc=function(e){var t=Object(U.b)(),n=Object(p.useState)(null),c=Object(j.a)(n,2),r=c[0],i=c[1],o=Object(p.useRef)(null),a=G().currentLotteryId;return Object(p.useEffect)((function(){t(Object(Y.h)({isTransitioning:!1}));var n=Math.floor(Date.now()/1e3);return i(e-n),o.current=setInterval((function(){i((function(e){return e<=1&&(clearInterval(o.current),t(Object(Y.h)({isTransitioning:!0})),t(Object(Y.c)({currentLotteryId:a}))),e-1}))}),1e3),function(){return clearInterval(o.current)}}),[i,e,a,o,t]),r},Zc=function(e){var t=e.nextEventTime,n=e.preCountdownText,c=e.postCountdownText,r=Wc(t),i=Ac(r),o=i.days,a=i.hours,s=i.minutes;return Object(y.jsx)(y.Fragment,{children:r?Object(y.jsxs)(f.B,{display:"inline-flex",justifyContent:"flex-end",alignItems:"flex-end",children:[n&&Object(y.jsx)(f.C,{mr:"12px",color:"#ffff",children:n}),r>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_c,{minutes:s+1,hours:a,days:o}),c&&Object(y.jsx)(f.C,{color:"#ffff",children:c})]}),r<0&&Object(y.jsx)(f.C,{color:"#ffff",children:"Waiting for draw winning combinations"})]}):Object(y.jsx)(f.Z,{height:"41px",width:"250px"})})},Hc=function(e){var t=e.setActiveIndex,n=e.activeIndex,c=Object(A.b)().t;return Object(y.jsxs)(f.k,{activeIndex:n,onItemClick:t,scale:"sm",variant:"subtle",children:[Object(y.jsx)(f.l,{className:"menuButton".concat(0===n?" active":""),children:c("All History")}),Object(y.jsx)(f.l,{className:"menuButton".concat(1===n?" active":""),children:c("Your History")})]})},Uc=Object(h.f)(f.h)(ln||(ln=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr) auto;\n  margin-bottom: 8px;\n  cursor: pointer;\n"]))),Vc=Object(h.f)(f.ab)(dn||(dn=Object(x.a)(["\n  path {\n    fill: ",";\n  }\n"])),(function(e){return e.theme.colors.textDisabled})),Yc=function(e){var t=e.roundId,n=e.numberTickets,c=e.endTime,r=e.onClick,i=e.hasWon,o=void 0!==i&&i,a=Object(A.b)().currentLanguage.locale,s=1e3*parseInt(c,10),l=new Date(s);return Object(y.jsxs)(Uc,{onClick:function(){return r(t)},children:[Object(y.jsx)(f.B,{alignItems:"center",children:Object(y.jsx)(f.cb,{fontSize:"16px",color:"textSubtle",children:t})}),Object(y.jsxs)(f.B,{mx:"6px",alignItems:["flex-start",null,"center"],justifyContent:["center",null,"flex-start"],flexDirection:["column",null,"row"],children:[Object(y.jsx)(f.cb,{fontSize:"12px",mr:["0",null,"6px"],children:l.toLocaleDateString(a,Ot)}),Object(y.jsx)(f.cb,{fontSize:"12px",color:"textSubtle",children:l.toLocaleTimeString(void 0,mt)})]}),Object(y.jsxs)(f.B,{mx:"6px",alignItems:"center",justifyContent:"space-between",children:[Object(y.jsx)(f.cb,{children:n}),o?Object(y.jsx)(f.X,{color:"warning"}):Object(y.jsx)(Vc,{})]}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"center",children:Object(y.jsx)(f.u,{color:"primary"})})]})},qc=Object(h.f)(f.h)(un||(un=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr) auto;\n"]))),Qc=function(e){var t,n=e.handleShowMoreClick,c=e.numUserRoundsRequested,r=e.handleHistoryRowClick,i=Object(A.b)().t,o=K(),a=null===o||void 0===o?void 0:o.rounds.filter((function(e){return e.status.toLowerCase()===O.a.CLAIMABLE})),s=null===a||void 0===a?void 0:a.sort((function(e,t){return parseInt(t.lotteryId,10)-parseInt(e.lotteryId,10)}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(qc,{px:"24px",pt:"24px",mb:"8px",children:[Object(y.jsx)(f.cb,{bold:!0,fontSize:"12px",color:"secondary",children:"#"}),Object(y.jsx)(f.cb,{bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase",children:i("Date")}),Object(y.jsx)(f.cb,{bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase",children:i("Your Tickets")}),Object(y.jsx)(f.h,{width:"20px"})]}),Object(y.jsxs)(f.B,{px:"24px",pb:"24px",flexDirection:"column",overflowY:"scroll",height:"240px",children:[o&&s.map((function(e){return Object(y.jsx)(Yc,{roundId:e.lotteryId,hasWon:e.claimed,numberTickets:e.totalTickets,endTime:e.endTime,onClick:r},e.lotteryId)})),(null===o||void 0===o||null===(t=o.rounds)||void 0===t?void 0:t.length)===c&&Object(y.jsx)(f.B,{justifyContent:"center",children:Object(y.jsx)(f.j,{mt:"12px",variant:"text",width:"fit-content",onClick:n,children:i("Show More")})})]})]})},Kc=Object(h.f)(f.n)(bn||(bn=Object(x.a)(["\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),$c=h.f.div(jn||(jn=Object(x.a)(["\n  display: grid;\n  grid-template-columns: auto;\n\n  "," {\n    grid-column-gap: 72px;\n    grid-row-gap: 36px;\n    grid-template-columns: auto 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Gc=Object(h.f)(f.q)(xn||(xn=Object(x.a)(["\n  right: -20px;\n  top: -20px;\n\n  "," {\n    right: -10px;\n    top: -10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs})),Xc=function(e){var t=e.lotteryNodeData,n=e.lotteryId,c=Object(A.b)().t,r=G(),i=r.currentLotteryId,o=r.currentRound.status,a=K().rounds.find((function(e){return e.lotteryId===n})),s=Object(f.ob)(),l=s.isLg,d=s.isXl,u=s.isXxl,b=l||d||u,x=parseInt(i),p=(o===O.a.CLAIMABLE?x:x-1).toString()===n,h=Object(f.pb)(Object(y.jsx)(yc,{roundId:n,roundStatus:null===t||void 0===t?void 0:t.status})),m=Object(j.a)(h,1)[0],g=a?a.totalTickets:0,v=c(g>1?"You had %amount% tickets this round":"You had %amount% ticket this round",{amount:g}).split(g.toString()),C=Object(j.a)(v,2),w=C[0],k=C[1];return Object(y.jsxs)(Kc,{children:[p&&Object(y.jsx)(Gc,{text:c("Latest")}),Object(y.jsxs)($c,{children:[Object(y.jsx)(f.B,{justifyContent:["center",null,null,"flex-start"],children:Object(y.jsx)(f.C,{mb:"24px",children:c("Winning Number")})}),Object(y.jsx)(f.B,{maxWidth:["240px",null,null,"100%"],justifyContent:["center",null,null,"flex-start"],children:n?t?Object(y.jsx)(tc,{rotateText:b||!1,number:null===t||void 0===t?void 0:t.finalNumber.toString(),mr:[null,null,null,"32px"],size:"100%",fontSize:b?"42px":"16px",maxHeight:"71px"}):Object(y.jsx)(f.Z,{width:["240px",null,null,"450px"],height:["34px",null,null,"71px"],mr:[null,null,null,"32px"]}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(f.B,{flexDirection:"column",alignItems:"center",width:["240px",null,null,"480px"],children:[Object(y.jsx)(f.cb,{mb:"8px",children:c("Please specify Round")}),Object(y.jsx)(f.i,{height:"64px",width:"64px"})]})})}),a&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.h,{display:["none",null,null,"flex"],children:Object(y.jsx)(f.C,{children:c("Your tickets")})}),Object(y.jsxs)(f.B,{flexDirection:"column",mr:[null,null,null,"24px"],alignItems:["center",null,null,"flex-start"],children:[Object(y.jsxs)(f.h,{mt:["32px",null,null,0],children:[Object(y.jsxs)(f.cb,{display:"inline",children:[w," "]}),Object(y.jsx)(f.cb,{display:"inline",bold:!0,children:a.totalTickets}),Object(y.jsx)(f.cb,{display:"inline",children:k})]}),Object(y.jsx)(f.j,{className:"textButton",onClick:m,height:"auto",width:"fit-content",p:"0",variant:"text",scale:"sm",children:c("View your tickets")})]})]})]})]})},Jc=Object(h.f)(f.B)(pn||(pn=Object(x.a)(["\n  background: ",";\n  padding: 24px;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.mediaQueries.sm})),er=function(e){var t=e.lotteryNodeData,n=e.lotteryId,c=Object(A.b)().t,r=Object(p.useState)(),i=Object(j.a)(r,2),o=i[0],a=i[1],s=function(e){var t=$();return null===t||void 0===t?void 0:t.find((function(t){return t.id===e}))}(n),l=le.b().price||0;Object(p.useEffect)((function(){var e=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Un.c)(void 0,void 0,{id_in:[n]});case 2:t=e.sent,a(t[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s||e()}),[s,n]);var d=new W.a(NaN);if(t){var u=t.amountCollectedInCake;d=u.times(l)}return Object(y.jsxs)(Jc,{children:[Object(y.jsxs)(f.B,{mr:"24px",flexDirection:"column",justifyContent:"space-between",children:[Object(y.jsxs)(f.h,{children:[Object(y.jsx)(f.C,{children:c("Prize pot")}),Object(y.jsx)(y.Fragment,{children:le.b().price?Object(y.jsxs)(y.Fragment,{children:[d.isNaN()?Object(y.jsx)(f.Z,{my:"7px",height:40,width:200}):Object(y.jsxs)(f.C,{scale:"xl",lineHeight:"1",color:"secondary",children:["~$",Object(re.b)(Object(re.d)(d,le.b().decimals),0,0)]}),d.isNaN()?Object(y.jsx)(f.Z,{my:"2px",height:14,width:90}):Object(y.jsx)(se,{fontSize:"14px",color:"textSubtle",unit:" ".concat(le.b().symbol),value:Object(re.d)(null===t||void 0===t?void 0:t.amountCollectedInCake,le.b().decimals),decimals:le.b().viewDecimals})]}):Object(y.jsx)(f.C,{scale:"xl",lineHeight:"1",color:"secondary",children:Object(y.jsx)(se,{fontSize:"14px",color:"textSubtle",unit:" ".concat(le.b().symbol),value:Object(re.d)(null===t||void 0===t?void 0:t.amountCollectedInCake,le.b().decimals),decimals:le.b().viewDecimals})})})]}),Object(y.jsx)(f.h,{mb:"24px",children:Object(y.jsx)(f.B,{children:Object(y.jsxs)(f.cb,{fontSize:"14px",display:"inline",children:[c("Total players this round"),":"," ",t&&(s||o)?function(){var e,t;return!s&&o?null===o||void 0===o||null===(e=o.totalUsers)||void 0===e?void 0:e.toLocaleString():s?null===s||void 0===s||null===(t=s.totalUsers)||void 0===t?void 0:t.toLocaleString():null}():Object(y.jsx)(f.Z,{height:14,width:31})]})})})]}),Object(y.jsx)(Sc,{lotteryNodeData:t,isHistoricRound:!0})]})},tr=Object(h.f)(f.A)(hn||(hn=Object(x.a)(["\n  &:hover {\n    color: #1FC7D4;\n    background-color: transparent;\n  }\n\n  &:active {\n    color: #1FC7D4;\n    background-color: transparent;\n  }\n\n  &:focus {\n    color: #1FC7D4;\n    background-color: transparent;\n  }\n"]))),nr=function(e){var t=e.lotteryNodeData,n=e.lotteryId,c=Object(A.b)().t,r=Object(p.useState)(!1),i=Object(j.a)(r,2),o=i[0],a=i[1];return Object(p.useEffect)((function(){n||a(!1)}),[n]),Object(y.jsxs)(f.o,{p:"0",children:[o&&Object(y.jsx)(er,{lotteryNodeData:t,lotteryId:n}),Object(y.jsx)(f.B,{p:"8px 24px",alignItems:"center",justifyContent:"center",children:Object(y.jsx)(tr,{expanded:o,onClick:function(){n&&a(!o)},children:c(o?"Hide":"Details")})})]})},cr=Object(h.f)(f.m)(fn||(fn=Object(x.a)(["\n  width: 100%;\n\n  "," {\n    width: 756px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),rr=Object(h.f)(f.n)(On||(On=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 240px;\n"]))),ir=function(e){var t=e.handleShowMoreClick,n=e.numUserRoundsRequested,c=Object(A.b)(),r=c.t,i=c.currentLanguage.locale,o=Object(Z.c)().account,a=Object(p.useState)(!1),s=Object(j.a)(a,2),l=s[0],d=s[1],u=Object(p.useState)(null),b=Object(j.a)(u,2),x=b[0],h=b[1],m=Object(p.useState)(null),g=Object(j.a)(m,2),v=g[0],C=g[1],w=G(),k=w.isTransitioning,S=w.currentRound.status,B=K(),I=S!==O.a.OPEN||k,L=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),C(t),e.next=4,Object(q.b)(t);case 4:n=e.sent,c=vt(n),h(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(cr,{children:[Object(y.jsx)(f.p,{children:l?Object(y.jsxs)(f.B,{alignItems:"center",children:[Object(y.jsx)(f.b,{cursor:"pointer",onClick:function(){return d(!1),h(null),void C(null)},mr:"20px"}),Object(y.jsxs)(f.B,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[Object(y.jsxs)(f.C,{scale:"md",mb:"4px",children:[r("Round")," ",v||""]}),(null===x||void 0===x?void 0:x.endTime)?Object(y.jsxs)(f.cb,{fontSize:"14px",children:[r("Drawn")," ",ft(i,x.endTime)]}):Object(y.jsx)(f.Z,{width:"185px",height:"21px"})]})]}):Object(y.jsx)(f.C,{scale:"md",children:r("Rounds")})}),function(){if(l)return Object(y.jsx)(Xc,{lotteryNodeData:x,lotteryId:v});var e=null===B||void 0===B?void 0:B.rounds.filter((function(e){return e.status.toLowerCase()===O.a.CLAIMABLE}));return o?0===e.length?Object(y.jsx)(rr,{children:Object(y.jsxs)(f.h,{maxWidth:"280px",children:[Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",mb:"16px",children:[Object(y.jsx)(ue,{height:"24px",mr:"8px"})," ",Object(y.jsx)(f.cb,{textAlign:"left",children:r("No lottery history found")})]}),Object(y.jsx)(f.cb,{textAlign:"center",color:"textSubtle",mb:"16px",children:r("Buy tickets for the next round!")}),Object(y.jsx)(Bn,{disabled:I,width:"100%"})]})}):Object(y.jsx)(Qc,{handleHistoryRowClick:L,handleShowMoreClick:t,numUserRoundsRequested:n}):Object(y.jsxs)(rr,{children:[Object(y.jsx)(f.cb,{textAlign:"center",color:"textSubtle",mb:"16px",children:r("Connect your wallet to check your history")}),Object(y.jsx)(He,{})]})}(),x?Object(y.jsx)(nr,{lotteryNodeData:x,lotteryId:v}):Object(y.jsx)(f.o,{children:Object(y.jsx)(f.B,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:Object(y.jsx)(f.cb,{fontSize:"12px",color:"textSubtle",children:r("Only showing data for Lottery V2")})})})]})},or=Object(h.f)(f.G)(mn||(mn=Object(x.a)(["\n  width: 60px;\n  height: 100%;\n  padding: 4px 16px;\n"]))),ar=Object(h.f)(f.E)(gn||(gn=Object(x.a)(["\n  width: 32px;\n\n  :disabled {\n    background: none;\n\n    svg {\n      fill: ",";\n\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.textDisabled}),(function(e){return e.theme.colors.textDisabled})),sr=function(e){var t=e.isLoading,n=e.selectedRoundId,c=e.mostRecentRound,r=e.handleInputChange,i=e.handleArrowButtonPress,o=Object(A.b)().t,a=parseInt(n,10);return Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"space-between",children:[Object(y.jsxs)(f.B,{alignItems:"center",children:[Object(y.jsx)(f.C,{mr:"8px",children:o("Round")}),Object(y.jsx)(or,{pattern:"^[0-9]+$",inputMode:"numeric",disabled:t,id:"round-id",name:"round-id",value:n,scale:"lg",onChange:function(e){e.currentTarget.validity.valid&&r(e)}})]}),Object(y.jsxs)(f.B,{alignItems:"center",children:[Object(y.jsx)(ar,{className:"iconButton",disabled:!a||a<=1,onClick:function(){return i(a-1)},variant:"text",scale:"sm",mr:"4px",children:Object(y.jsx)(f.b,{})}),Object(y.jsx)(ar,{className:"iconButton",disabled:a>=c,onClick:function(){return i(a+1)},variant:"text",scale:"sm",mr:"4px",children:Object(y.jsx)(f.c,{})}),Object(y.jsx)(ar,{className:"iconButton",disabled:a>=c,onClick:function(){return i(c)},variant:"text",scale:"sm",children:Object(y.jsx)(f.d,{})})]})]})},lr=Object(h.f)(f.m)(vn||(vn=Object(x.a)(["\n  width: 100%;\n\n  "," {\n    width: 756px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),dr=Object(h.f)(f.p)(yn||(yn=Object(x.a)(["\n  z-index: 2;\n  background: none;\n  border-bottom: 1px "," solid;\n"])),(function(e){return e.theme.colors.cardBorder})),ur=function(){var e=Object(A.b)(),t=e.t,n=e.currentLanguage.locale,c=Object(U.b)(),r=G(),i=r.currentLotteryId,o=r.lotteriesData,a=r.currentRound,s=a.status,l=a.isLoading,d=Object(p.useState)(null),u=Object(j.a)(d,2),b=u[0],x=u[1],h=Object(p.useState)(""),m=Object(j.a)(h,2),g=m[0],v=m[1],C=Object(p.useState)(null),w=Object(j.a)(C,2),k=w[0],S=w[1],B=Object(p.useRef)(null),I=null===o||void 0===o?void 0:o.length;Object(p.useEffect)((function(){if(i){var e=i?parseInt(i):null,t=s===O.a.CLAIMABLE?e:e-1;x(t),v(t.toString())}}),[i,s]),Object(p.useEffect)((function(){S(null);var e=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.b)(g);case 2:t=e.sent,n=vt(t),S(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return B.current=setInterval((function(){g&&e(),clearInterval(B.current)}),1e3),function(){return clearInterval(B.current)}}),[g,i,I,c]);return Object(y.jsxs)(lr,{children:[Object(y.jsxs)(dr,{children:[Object(y.jsx)(sr,{isLoading:l,selectedRoundId:g,mostRecentRound:b,handleInputChange:function(e){var t=e.target.value;t?(v(t),parseInt(t,10)<=0&&v(""),parseInt(t,10)>=b&&v(b.toString())):v("")},handleArrowButtonPress:function(e){v(e?e.toString():"1")}}),Object(y.jsx)(f.h,{mt:"8px",children:g?(null===k||void 0===k?void 0:k.endTime)?Object(y.jsxs)(f.cb,{fontSize:"14px",children:[t("Drawn")," ",ft(n,k.endTime)]}):Object(y.jsx)(f.Z,{width:"185px",height:"21px"}):null})]}),Object(y.jsx)(Xc,{lotteryNodeData:k,lotteryId:g}),Object(y.jsx)(nr,{lotteryNodeData:k,lotteryId:g})]})};!function(e){e.NOT_FETCHED="not-fetched",e.IN_PROGRESS="in-progress",e.SUCCESS="success"}(Cn||(Cn={}));var br,jr,xr,pr,hr,fr,Or,mr,gr,vr,yr,Cr,wr,kr,Sr,Br,Ir,Lr,Tr,Dr,Fr,Er=function(){var e=Object(Z.c)().account,t=G(),n=t.isTransitioning,c=t.currentLotteryId,r=K(),i=$(),o=Object(p.useState)([]),a=Object(j.a)(o,2),s=a[0],l=a[1],d=Object(p.useState)(Cn.NOT_FETCHED),u=Object(j.a)(d,2),b=u[0],x=u[1];Object(p.useEffect)((function(){x(Cn.NOT_FETCHED)}),[e,n]);var h=function(){var t=Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(Cn.IN_PROGRESS),t.next=3,Gn(e,r,i,c);case 3:n=t.sent,l(n),x(Cn.SUCCESS);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{fetchAllRewards:h,unclaimedRewards:s,fetchStatus:b}},Rr=h.f.img(br||(br=Object(x.a)(["\n  height: 60px;\n  "," {\n    height: 100px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Mr=h.f.img(jr||(jr=Object(x.a)(["\n  height: 54px;\n  "," {\n    height: 84px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Nr=function(){var e=Object(A.b)().t,t=Object(Z.c)().account,n=G(),c=n.isTransitioning,r=n.currentRound.status,i=Er(),o=i.fetchAllRewards,a=i.unclaimedRewards,s=i.fetchStatus,l=K(),d=Object(p.useState)(!1),u=Object(j.a)(d,2),b=u[0],x=u[1],h=Object(p.useState)(!1),m=Object(j.a)(h,2),g=m[0],v=m[1],C=Object(f.pb)(Object(y.jsx)(xc,{roundsToClaim:a}),!1),w=Object(j.a)(C,1)[0],k=s===Cn.IN_PROGRESS,S=r===O.a.CLOSE,B=!l.account||S;Object(p.useEffect)((function(){s===Cn.SUCCESS&&(a.length>0&&!b&&(v(!0),x(!0),w()),0!==a.length||b||(v(!1),x(!0)))}),[a,b,s,w]),Object(p.useEffect)((function(){v(!1),x(!1)}),[t,c]);return Object(y.jsx)(f.B,{children:function(){if(!t)return Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(Rr,{src:"./images/lottery/ticket-l.png",alt:"lottery ticket"}),Object(y.jsxs)(f.B,{mx:["4px",null,"16px"],flexDirection:"column",alignItems:"center",children:[Object(y.jsx)(f.C,{textAlign:"center",color:"#F4EEFF",children:e("Connect your wallet")}),Object(y.jsx)(f.C,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:e("to check if you've won!")}),Object(y.jsx)(He,{className:"primaryButton",width:"190px"}),window&&window.SO_LotteryConfig&&window.SO_LotteryConfig.chainName&&Object(y.jsx)(f.C,{mb:"8px",scale:"md",color:"#ffffff",id:"lottery-hero-title",children:e("The Lottery operates on the %chainName% Network",{chainName:window.SO_LotteryConfig.chainName})})]}),Object(y.jsx)(Rr,{src:"./images/lottery/ticket-r.png",alt:"lottery ticket"})]});if(b&&!g)return Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(Mr,{src:"./images/lottery/torn-ticket-l.png",alt:"torn lottery ticket"}),Object(y.jsxs)(f.B,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(y.jsxs)(f.C,{textAlign:"center",color:"#F4EEFF",children:[e("No prizes to collect"),"..."]}),Object(y.jsx)(f.C,{textAlign:"center",color:"#F4EEFF",children:e("Better luck next time!")})]}),Object(y.jsx)(Mr,{src:"./images/lottery/torn-ticket-r.png",alt:"torn lottery ticket"})]});if(b&&g)return Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(Rr,{src:"./images/lottery/ticket-l.png",alt:"lottery ticket"}),Object(y.jsxs)(f.B,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(y.jsx)(f.C,{textAlign:"center",color:"#F4EEFF",children:e("Congratulations!")}),Object(y.jsx)(f.C,{textAlign:"center",color:"#F4EEFF",children:e("Why not play again")})]}),Object(y.jsx)(Rr,{src:"./images/lottery/ticket-r.png",alt:"lottery ticket"})]});return Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(Rr,{src:"./images/lottery/ticket-l.png",alt:"lottery ticket"}),Object(y.jsxs)(f.B,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(y.jsx)(f.C,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:e("Are you a winner?")}),Object(y.jsx)(f.j,{className:"primaryButton",disabled:B,onClick:o,isLoading:k,endIcon:k?Object(y.jsx)(f.e,{color:"currentColor",spin:!0}):null,children:S?"".concat(e("Calculating rewards"),"..."):e(k?"Checking":"Check Now")})]}),Object(y.jsx)(Rr,{src:"./images/lottery/ticket-r.png",alt:"lottery ticket"})]})}()})},Ar=(window.SO_LotteryConfig.numbersCount,h.f.div(xr||(xr=Object(x.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 40px 0;\n  width: 100%;\n"])),(function(e){return e.theme.colors.cardBorder}))),Pr=h.f.ul(pr||(pr=Object(x.a)(["\n  list-style-type: none;\n  margin-left: 8px;\n  padding: 0;\n  li {\n    margin: 0;\n    padding: 0;\n  }\n  li::before {\n    content: '\u2022';\n    margin-right: 4px;\n    color: ",";\n  }\n  li::marker {\n    font-size: 12px;\n  }\n"])),(function(e){return e.theme.colors.textSubtle})),zr=Object(h.f)(f.B)(hr||(hr=Object(x.a)(["\n  gap: 24px;\n  width: 100%;\n  flex-direction: column;\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),_r=Object(h.f)(f.h)(fr||(fr=Object(x.a)(["\n  display: flex;\n  align-self: baseline;\n  position: relative;\n  background: ",";\n  padding: 1px 1px 3px 1px;\n  border-radius: ",";\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.card})),Wr=Object(h.f)(f.h)(Or||(Or=Object(x.a)(["\n  width: 100%;\n  padding: 24px;\n  background: ",";\n  border-radius: ",";\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.radii.card})),Zr=function(e){var t=e.step;return Object(y.jsx)(_r,{width:"100%",children:Object(y.jsxs)(Wr,{height:["200px","180px",null,"200px"],children:[Object(y.jsx)(f.cb,{mb:"16px",fontSize:"12px",bold:!0,textAlign:"right",textTransform:"uppercase",children:t.label}),Object(y.jsx)(f.C,{mb:"16px",scale:"lg",color:"secondary",children:t.title}),Object(y.jsx)(f.cb,{color:"textSubtle",children:t.subtitle})]})})},Hr=(Object(h.f)(f.B)(mr||(mr=Object(x.a)(["\n  gap: 6.5px;\n  padding-left: 7px;\n  align-items: center;\n  width: 100%;\n"]))),Object(h.f)(f.H)(gr||(gr=Object(x.a)(["\n  display: inline;\n\n  &:hover, &;active, &:focus {\n    color: #1FC7D4;\n  }\n"]))),h.f.div(vr||(vr=Object(x.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 5fr;\n  grid-template-rows: 46px 64px 64px;\n"]))),h.f.div(yr||(yr=Object(x.a)(["\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n  grid-auto-rows: max-content;\n  row-gap: 4px;\n"])))),Ur=h.f.div(Cr||(Cr=Object(x.a)(["\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  margin-right: 8px;\n  background-color: ",";\n"])),(function(e){return e.color})),Vr=function(e){var t=e.color,n=e.text;return Object(y.jsxs)(f.B,{alignItems:"center",children:[Object(y.jsx)(Ur,{color:t}),Object(y.jsx)(f.cb,{color:"textSubtle",children:n})]})},Yr=function(){var e=Object(A.b)().t,t=window.SO_LotteryConfig.winPercents,n=window.SO_LotteryConfig.numbersCount;return Object(y.jsx)(_r,{width:["280px","330px","380px"],children:Object(y.jsxs)(Wr,{height:"auto",children:[Object(y.jsxs)(f.B,{justifyContent:"space-between",children:[Object(y.jsx)(f.cb,{fontSize:"12px",color:"secondary",bold:!0,textTransform:"uppercase",children:e("Digits matched")}),Object(y.jsx)(f.cb,{fontSize:"12px",color:"secondary",bold:!0,textAlign:"right",textTransform:"uppercase",children:e("Prize pool allocation")})]}),Object(y.jsxs)(Hr,{children:[n>=1&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Vr,{color:"#FFE362",text:e(1==n?"Matches all %digits%":"Matches first %digits%",{digits:1})}),Object(y.jsxs)(f.cb,{textAlign:"right",bold:!0,children:[parseFloat(t.match_1.toFixed(2)),"%"]})]}),n>=2&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Vr,{color:"#85C54E",text:e(2==n?"Matches all %digits%":"Matches first %digits%",{digits:2})}),Object(y.jsxs)(f.cb,{textAlign:"right",bold:!0,children:[parseFloat(t.match_2.toFixed(2)),"%"]})]}),n>=3&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Vr,{color:"#028E75",text:e(3==n?"Matches all %digits%":"Matches first %digits%",{digits:3})}),Object(y.jsxs)(f.cb,{textAlign:"right",bold:!0,children:[parseFloat(t.match_3.toFixed(2)),"%"]})]}),n>=4&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Vr,{color:"#36E8F5",text:e(4==n?"Matches all %digits%":"Matches first %digits%",{digits:4})}),Object(y.jsxs)(f.cb,{textAlign:"right",bold:!0,children:[parseFloat(t.match_4.toFixed(2)),"%"]})]}),n>=5&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Vr,{color:"#A881FC",text:e(5==n?"Matches all %digits%":"Matches first %digits%",{digits:5})}),Object(y.jsxs)(f.cb,{textAlign:"right",bold:!0,children:[parseFloat(t.match_5.toFixed(2)),"%"]})]}),n>=6&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Vr,{color:"#D750B2",text:e(6==n?"Matches all %digits%":"Matches first %digits%",{digits:6})}),Object(y.jsxs)(f.cb,{textAlign:"right",bold:!0,children:[parseFloat(t.match_6.toFixed(2)),"%"]})]})]})]})})},qr=Object(h.f)(f.B)(wr||(wr=Object(x.a)(["\n  gap: 24px;\n"]))),Qr=function(){var e=Object(A.b)().t,t=[{label:e("Step %number%",{number:1}),title:e("Buy Tickets"),subtitle:e("Prices are set when the round starts.")},{label:e("Step %number%",{number:2}),title:e("Wait for the Draw"),subtitle:e("The timer is at the top of this page")},{label:e("Step %number%",{number:3}),title:e("Check for Prizes"),subtitle:e("Once the round\u2019s over, come back to the page and check to see if you\u2019ve won!")}];return Object(y.jsxs)(f.h,{width:"100%",children:[Object(y.jsxs)(f.B,{mb:"40px",alignItems:"center",flexDirection:"column",children:[Object(y.jsx)(f.C,{mb:"24px",scale:"xl",color:"secondary",children:e("How to Play")}),Object(y.jsx)(f.cb,{textAlign:"center",children:e("If the digits on your tickets match the winning numbers in the correct order, you win a portion of the prize pool.")}),Object(y.jsx)(f.cb,{children:e("Simple!")})]}),Object(y.jsx)(zr,{children:t.map((function(e){return Object(y.jsx)(Zr,{step:e},e.label)}))}),Object(y.jsx)(Ar,{}),Object(y.jsxs)(qr,{flexDirection:["column","column","column","row"],children:[Object(y.jsxs)(f.B,{flex:"2",flexDirection:"column",children:[Object(y.jsx)(f.C,{mb:"24px",scale:"lg",color:"secondary",children:e("Winning Criteria")}),Object(y.jsx)(f.C,{mb:"24px",scale:"md",children:e("The digits on your ticket must match in the correct order to win.")}),Object(y.jsx)(f.cb,{mb:"16px",color:"textSubtle",children:e("Here\u2019s an example lottery draw, with two tickets, A and B.")}),Object(y.jsxs)(Pr,{children:[Object(y.jsx)("li",{children:Object(y.jsx)(f.cb,{display:"inline",color:"textSubtle",children:e("Ticket A: The first 3 digits and the last 2 digits match, but the 4th digit is wrong, so this ticket only wins a \u201cMatch first 3\u201d prize.")})}),Object(y.jsx)("li",{children:Object(y.jsx)(f.cb,{display:"inline",color:"textSubtle",children:e("Ticket B: Even though the last 5 digits match, the first digit is wrong, so this ticket doesn\u2019t win a prize.")})})]}),Object(y.jsx)(f.cb,{mt:"16px",color:"textSubtle",children:e("Prize brackets don\u2019t \u2018stack\u2019: if you match the first 3 digits in order, you\u2019ll only win prizes from the \u2018Match 3\u2019 bracket, and not from \u2018Match 1\u2019 and \u2018Match 2\u2019.")})]}),Object(y.jsx)(f.B,{flex:"1",justifyContent:"center",children:Object(y.jsx)(Yr,{})})]}),Object(y.jsx)(Ar,{}),Object(y.jsx)(qr,{flexDirection:["column","column","column","row"]})]})},Kr=n(210),$r=function(){var e=Object(Z.c)().account,t=Object(U.b)(),n=Object(p.useState)(Kr.a),c=Object(j.a)(n,2),r=c[0],i=c[1];return{numUserRoundsRequested:r,handleShowMoreUserRounds:function(){t(Object(Y.b)({account:e,skip:r})),i(r+Kr.a)}}},Gr=h.f.a(kr||(kr=Object(x.a)(["\n  color: inherit;\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),Xr=h.f.div(Sr||(Sr=Object(x.a)(["\n  align-item: center;\n  font-size: 11px;\n  margin-top: 10px;\n  color: gray;\n\n"]))),Jr=function(){return Object(y.jsxs)(Xr,{children:["Powered by"," ",Object(y.jsx)(Gr,{href:"https://onout.org/lottery",target:"_blank",rel:"noreferrer",children:"OnOut - no-code tool to create Lottery"})]})},ei=n(54),ti=(n(95),n(96)),ni=function(e){return[{label:e("Trade"),icon:"Swap",href:"/swap",showItemsOnMobile:!1,items:[{label:e("Exchange"),href:"/swap"},{label:e("Liquidity"),href:"/liquidity"}]},{label:e("Earn"),href:"/farms",icon:"Earn",items:[{label:e("Farms"),href:"/farms"},{label:e("Pools"),href:"/pools"}]},{label:e("Win"),href:"/prediction",icon:"Trophy",items:[{label:e("Prediction (BETA)"),href:"/prediction"},{label:e("Lottery"),href:"/lottery"}]},{label:e("NFT"),href:"".concat(ti.a),icon:"Nft",items:[{label:e("Overview"),href:"".concat(ti.a)},{label:e("Collections"),href:"".concat(ti.a,"/collections")}]},{label:"",href:"/info",icon:"More",hideSubNav:!0,items:[{label:e("Info"),href:"/info"},{label:e("IFO"),href:"/ifo"},{label:e("Voting"),href:"/voting"},{type:f.z.DIVIDER},{label:e("Leaderboard"),href:"/teams"},{type:f.z.DIVIDER},{label:e("Blog"),href:"https://medium.com/pancakeswap",type:f.z.EXTERNAL_LINK},{label:e("Docs"),href:"https://docs.pancakeswap.finance",type:f.z.EXTERNAL_LINK}]}]},ci=n(335),ri=n(66),ii=n(79),oi=["account"],ai=Object(h.f)(f.B)(Br||(Br=Object(x.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 16px;\n  position: relative;\n"])),(function(e){return e.theme.colors.dropdown})),si=h.f.div(Ir||(Ir=Object(x.a)(["\n  flex: 1;\n  position: relative;\n  padding-left: 16px;\n\n  & > input {\n    background: transparent;\n    border: 0;\n    color: ",";\n    display: block;\n    font-weight: 600;\n    font-size: 16px;\n    padding: 0;\n    width: 100%;\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  &:after {\n    background: linear-gradient(\n      to right,\n      ","00,\n      ","E6\n    );\n    content: '';\n    height: 100%;\n    pointer-events: none;\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 40px;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.background})),li=h.f.div(Lr||(Lr=Object(x.a)(["\n  display: ",";\n  position: absolute;\n  padding: 8px;\n  top: -38px;\n  right: 0;\n  text-align: center;\n  background-color: ",";\n  color: ",";\n  border-radius: 16px;\n  opacity: 0.7;\n  width: 100px;\n"])),(function(e){return e.isTooltipDisplayed?"inline-block":"none"}),(function(e){return e.theme.colors.contrast}),(function(e){return e.theme.colors.invertedContrast})),di=function(e){var t=e.account,n=Object(g.a)(e,oi),c=Object(p.useState)(!1),r=Object(j.a)(c,2),i=r[0],o=r[1],a=Object(A.b)().t;function s(){o(!0),setTimeout((function(){o(!1)}),1e3)}return Object(y.jsxs)(f.h,Object(m.a)(Object(m.a)({position:"relative"},n),{},{children:[Object(y.jsxs)(ai,{children:[Object(y.jsx)(si,{title:t,children:Object(y.jsx)("input",{type:"text",readOnly:!0,value:t})}),Object(y.jsx)(f.E,{variant:"text",onClick:function(){if(navigator.clipboard&&navigator.permissions)navigator.clipboard.writeText(t).then((function(){return s()}));else if(document.queryCommandSupported("copy")){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),s()}},children:Object(y.jsx)(f.y,{color:"primary",width:"24px"})})]}),Object(y.jsx)(li,{isTooltipDisplayed:i,children:a("Copied")})]}))},ui=function(e){var t=e.hasLowBnbBalance,n=e.onDismiss,c=Object(A.b)().t,r=Object(Z.c)().account,i=ye(),o=i.balance,a=i.fetchStatus,s=Ce(le.a.cake.address),l=s.balance,d=s.fetchStatus,u=Object(Ze.a)().logout;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.cb,{color:"secondary",fontSize:"12px",textTransform:"uppercase",fontWeight:"bold",mb:"8px",children:c("Your Address")}),Object(y.jsx)(di,{account:r,mb:"24px"}),t&&Object(y.jsx)(f.M,{variant:"warning",mb:"24px",children:Object(y.jsxs)(f.h,{children:[Object(y.jsx)(f.cb,{fontWeight:"bold",children:c("BNB Balance Low")}),Object(y.jsx)(f.cb,{as:"p",children:c("You need BNB for transaction fees.")})]})}),Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"space-between",children:[Object(y.jsx)(f.cb,{color:"textSubtle",children:c("BNB Balance")}),a!==b.SUCCESS?Object(y.jsx)(f.Z,{height:"22px",width:"60px"}):Object(y.jsx)(f.cb,{children:Object(re.a)(o,6)})]}),Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[Object(y.jsx)(f.cb,{color:"textSubtle",children:c("CAKE Balance")}),d!==b.SUCCESS?Object(y.jsx)(f.Z,{height:"22px",width:"60px"}):Object(y.jsx)(f.cb,{children:Object(re.f)(l,18,3)})]}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"end",mb:"24px",children:Object(y.jsx)(f.I,{href:Object(ii.c)(r,"address"),children:c("View on BscScan")})}),Object(y.jsx)(f.j,{variant:"secondary",width:"100%",onClick:function(){n(),u()},children:c("Disconnect Wallet")})]})},bi=n(30),ji=n(86);function xi(){var e,t=Object(bi.a)().chainId,n=Object(H.c)((function(e){return e.transactions}));return t&&null!==(e=n[t])&&void 0!==e?e:{}}function pi(e){return(new Date).getTime()-e.addedTime<864e5}var hi,fi,Oi,mi=Object(h.f)(f.B)(Tr||(Tr=Object(x.a)(["\n  align-items: center;\n  flex: none;\n  width: 24px;\n"]))),gi=h.f.div(Dr||(Dr=Object(x.a)(["\n  flex: 1;\n  padding: 0 8px;\n"]))),vi=Object(h.f)(f.H)(Fr||(Fr=Object(x.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  margin-bottom: 16px;\n  width: 100%;\n\n  &:hover {\n    text-decoration: none;\n  }\n"])),(function(e){return e.theme.colors.text})),yi=function(e){var t,n;return e.receipt?1===(null===(t=e.receipt)||void 0===t?void 0:t.status)||"undefined"===typeof(null===(n=e.receipt)||void 0===n?void 0:n.status)?Object(y.jsx)(f.s,{color:"success",width:"24px"}):Object(y.jsx)(f.g,{color:"failure",width:"24px"}):Object(y.jsx)(f.Y,{spin:!0,width:"24px"})},Ci=function(e){var t,n=e.txn,c=Object(bi.a)().chainId;return n?Object(y.jsxs)(vi,{href:Object(ii.c)(n.hash,"transaction",c),external:!0,children:[Object(y.jsx)(mi,{children:yi(n)}),Object(y.jsx)(gi,{children:null!==(t=n.summary)&&void 0!==t?t:n.hash}),Object(y.jsx)(mi,{children:Object(y.jsx)(f.U,{width:"24px",color:"primary"})})]}):null},wi=function(){var e=Object(bi.a)().chainId,t=Object(H.b)(),n=Object(A.b)().t,c=xi(),r=Object(we.orderBy)(Object.values(c).filter(pi),"addedTime","desc");return Object(y.jsxs)(f.h,{minHeight:"120px",children:[Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[Object(y.jsx)(f.cb,{color:"secondary",fontSize:"12px",textTransform:"uppercase",fontWeight:"bold",children:n("Recent Transactions")}),r.length>0&&Object(y.jsx)(f.j,{scale:"sm",onClick:function(){e&&t(Object(ji.c)({chainId:e}))},variant:"text",px:"0",children:n("Clear all")})]}),r.length>0?r.map((function(e){return Object(y.jsx)(Ci,{txn:e},e.hash)})):Object(y.jsx)(f.cb,{textAlign:"center",children:n("No recent transactions")})]})};!function(e){e[e.WALLET_INFO=0]="WALLET_INFO",e[e.TRANSACTIONS=1]="TRANSACTIONS"}(Oi||(Oi={}));var ki=Object(ri.parseUnits)("2","gwei"),Si=Object(h.f)(f.R)(hi||(hi=Object(x.a)(["\n  background: ",";\n"])),(function(e){return e.theme.colors.gradients.bubblegum})),Bi=h.f.div(fi||(fi=Object(x.a)(["\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"])),(function(e){return e.theme.colors.dropdown}),(function(e){return e.theme.colors.cardBorder})),Ii=function(e){var t=e.initialView,n=void 0===t?Oi.WALLET_INFO:t,c=e.onDismiss,r=Object(p.useState)(n),i=Object(j.a)(r,2),o=i[0],a=i[1],s=Object(A.b)().t,l=ye(),d=l.balance,u=l.fetchStatus===b.SUCCESS&&d.lte(ki);return Object(y.jsxs)(f.Q,{title:s("Welcome!"),minWidth:"320px",children:[Object(y.jsxs)(Si,{children:[Object(y.jsx)(f.T,{children:Object(y.jsx)(f.C,{children:s("Your Wallet")})}),Object(y.jsx)(f.E,{variant:"text",onClick:c,children:Object(y.jsx)(f.v,{width:"24px",color:"text"})})]}),Object(y.jsx)(Bi,{children:Object(y.jsxs)(f.k,{scale:"sm",variant:"subtle",onItemClick:function(e){a(e)},activeIndex:o,fullWidth:!0,children:[Object(y.jsx)(f.l,{children:s("Wallet")}),Object(y.jsx)(f.l,{children:s("Transactions")})]})}),Object(y.jsxs)(f.O,{p:"24px",maxWidth:"400px",width:"100%",children:[o===Oi.WALLET_INFO&&Object(y.jsx)(ui,{hasLowBnbBalance:u,onDismiss:c}),o===Oi.TRANSACTIONS&&Object(y.jsx)(wi,{})]})]})},Li=function(){var e,t,n=Object(A.b)().t,c=Object(Z.c)().account,r=Object(Ze.a)().logout,i=ye(),o=i.balance,a=i.fetchStatus,s=Object(ci.b)(),l=(s.isInitialized,s.isLoading,s.profile),d=Object(f.pb)(Object(y.jsx)(Ii,{initialView:Oi.WALLET_INFO})),u=(Object(j.a)(d,1)[0],Object(f.pb)(Object(y.jsx)(Ii,{initialView:Oi.TRANSACTIONS}))),x=(Object(j.a)(u,1)[0],null===l||void 0===l||null===(e=l.nft)||void 0===e||null===(t=e.image)||void 0===t?void 0:t.thumbnail);a===b.SUCCESS&&o.lte(ki);return c?Object(y.jsx)(f.hb,{account:c,avatarSrc:x,children:Object(y.jsx)(f.ib,{as:"button",onClick:r,children:Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"space-between",width:"100%",children:[n("Disconnect"),Object(y.jsx)(f.K,{})]})})}):Object(y.jsx)(He,{scale:"sm"})},Ti=n(15);n(126),n(81);n(284);n(280),n(65);n(338),n(183),n(174);n(332);n(50);var Di=new ze.f(ze.d.BigInt(25),ze.d.BigInt(1e4)),Fi=new ze.f(ze.d.BigInt(1e4),ze.d.BigInt(1e4));Fi.subtract(Di);n(334);n(42);var Ei,Ri,Mi,Ni,Ai,Pi,zi=n(34);Object(zi.gql)(Ei||(Ei=Object(x.a)(["\n  query lastPairDayId($pairId: String) {\n    pairDayDatas(first: 1, where: { pairAddress: $pairId }, orderBy: date, orderDirection: desc) {\n      id\n    }\n  }\n"]))),Object(zi.gql)(Ri||(Ri=Object(x.a)(["\n  query pairHourDatas($pairId: String, $first: Int) {\n    pairHourDatas(first: $first, where: { pair: $pairId }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n      hourStartUnix\n      reserve0\n      reserve1\n      reserveUSD\n      pair {\n        token0 {\n          id\n        }\n        token1 {\n          id\n        }\n      }\n    }\n  }\n"]))),Object(zi.gql)(Mi||(Mi=Object(x.a)(["\n  query pairDayDatasByIdsQuery($pairIds: [String]) {\n    pairDayDatas(where: { id_in: $pairIds }, orderBy: date, orderDirection: desc) {\n      id\n      date\n      reserve0\n      reserve1\n      reserveUSD\n      pairAddress {\n        token0 {\n          id\n        }\n        token1 {\n          id\n        }\n      }\n    }\n  }\n"])));!function(e){e[e.DAY=0]="DAY",e[e.WEEK=1]="WEEK",e[e.MONTH=2]="MONTH",e[e.YEAR=3]="YEAR"}(Ni||(Ni={}));var _i,Wi,Zi;Ai={},Object(Ti.a)(Ai,Ni.DAY,24),Object(Ti.a)(Ai,Ni.WEEK,28),Object(Ti.a)(Ai,Ni.MONTH,30),Object(Ti.a)(Ai,Ni.YEAR,24),Pi={},Object(Ti.a)(Pi,Ni.DAY,null),Object(Ti.a)(Pi,Ni.WEEK,6),Object(Ti.a)(Pi,Ni.MONTH,1),Object(Ti.a)(Pi,Ni.YEAR,15),n(661),Object(zi.gql)(_i||(_i=Object(x.a)(["\n  query pairDayDatas($pairId: String, $first: Int) {\n    pairDayDatas(first: $first, where: { pairAddress: $pairId }, orderBy: date, orderDirection: desc) {\n      id\n      date\n      reserve0\n      reserve1\n      reserveUSD\n      pairAddress {\n        token0 {\n          id\n        }\n        token1 {\n          id\n        }\n      }\n    }\n  }\n"]))),Object(zi.gql)(Wi||(Wi=Object(x.a)(["\n  query pairHourDatasByIds($pairIds: [String]) {\n    pairHourDatas(where: { id_in: $pairIds }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n      hourStartUnix\n      reserve0\n      reserve1\n      reserveUSD\n      pair {\n        token0 {\n          id\n        }\n        token1 {\n          id\n        }\n      }\n    }\n  }\n"]))),Object(zi.gql)(Zi||(Zi=Object(x.a)(["\n  query lastPairHourId($pairId: String) {\n    pairHourDatas(first: 1, where: { pair: $pairId }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n    }\n  }\n"]))),n(715),n(169),n(716),n(718),n(719),n(717),n(388),n(553);var Hi,Ui,Vi;h.f.div(Hi||(Hi=Object(x.a)(["\n  :hover,\n  :focus {\n    opacity: 0.7;\n  }\n"])));!function(e){e.InvalidInput="InvalidInput",e.RiskyLow="RiskyLow",e.RiskyHigh="RiskyHigh"}(Ui||(Ui={})),function(e){e.InvalidInput="InvalidInput"}(Vi||(Vi={}));RegExp("^\\d*(?:\\\\[.])?\\d*$"),Object(h.f)(f.B)(Yi||(Yi=Object(x.a)(["\n  flex-direction: column;\n  max-height: 400px;\n  "," {\n    max-height: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}));var Yi,qi,Qi,Ki,$i,Gi,Xi=function(e){var t,n=e.pathname,c=e.menuItem,r=null!==(t=null===c||void 0===c?void 0:c.items.filter((function(e){return n.startsWith(e.href)})))&&void 0!==t?t:[];if(r&&0!==r.length)return 1===r.length?r[0]:r.sort((function(e,t){return t.href.length-e.href.length}))[0]},Ji=h.f.div(qi||(qi=Object(x.a)(["\n  display: flex;\n  border-bottom: 2px solid #CCCCCC;\n  justify-content: space-between;\n  padding: 5px;\n  padding-top: 5px;\n  padding-bottom: 2px;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  background: #FFF;\n  z-index: 10;\n"]))),eo=h.f.div(Qi||(Qi=Object(x.a)(["\n  display: flex;\n  vertical-align: middle;\n  line-height: 36px;\n"]))),to=h.f.a(Ki||(Ki=Object(x.a)(["\n  font-size: 14pt;\n  color: #000000;\n  padding-left: 10px;\n  padding-right: 10px;\n  :hover {\n    color: #0c4183;\n  }\n"]))),no=h.f.a($i||($i=Object(x.a)(["\n  text-decoration: none;\n  height: 40px;\n  img {\n    display: block;\n    width: auto;\n    height: 40px;\n  }\n"]))),co=function(e){var t,n,c,r,i=z(),o=(i.isDark,i.toggleTheme,Object(sc.b)(),Object(A.b)()),a=(o.currentLanguage,o.setLanguage,o.t),s=Object(ei.f)().pathname,l=Object(P.e)(),d=(Object(j.a)(l,1)[0],function(e){var t=e.pathname;return e.menuConfig.find((function(e){return t.startsWith(e.href)||Xi({menuItem:e,pathname:t})}))}({menuConfig:ni(a),pathname:s})),u=(Xi({menuItem:d,pathname:s}),null===(t=window)||void 0===t||null===(n=t.SO_LotteryConfig)||void 0===n?void 0:n.menu),b=null===(c=window)||void 0===c||null===(r=c.SO_LotteryConfig)||void 0===r?void 0:r.logo;return Object(y.jsxs)(Ji,{className:"mainMenu",children:[Object(y.jsxs)(eo,{children:[Object(y.jsx)(no,{href:"/",children:Object(y.jsx)("img",{src:b})}),u&&Object(y.jsx)("nav",{children:u.map((function(e){return Object(y.jsx)(to,{href:e.link,target:e.blank?"_blank":"_self",children:e.title})}))})]}),Object(y.jsx)(Li,{})]})},ro=h.f.div(Gi||(Gi=Object(x.a)(["\n  min-height: calc(100vh - 64px);\n"])));t.default=function(){var e,t;!function(){var e=Object(Z.c)().account,t=Object(V.a)().fastRefresh,n=Object(U.b)(),c=Q();Object(p.useEffect)((function(){n(Object(Y.d)())}),[n]),Object(p.useEffect)((function(){c&&(n(Object(Y.e)({currentLotteryId:c})),n(Object(Y.c)({currentLotteryId:c})))}),[n,c,t]),Object(p.useEffect)((function(){e&&c&&n(Object(Y.g)({account:e,currentLotteryId:c}))}),[n,c,e])}(),ce();var n=Object(A.b)().t,c=z(),r=c.isDark,i=c.theme,o=G().currentRound,a=o.status,s=o.endTime,l=Object(p.useState)(0),d=Object(j.a)(l,2),u=d[0],b=d[1],x=!(null===(e=window)||void 0===e||null===(t=e.SO_LotteryConfig)||void 0===t?void 0:t.hideServiceLink),h=parseInt(s,10),m=X(h,a),g=m.nextEventTime,v=m.postCountdownText,C=m.preCountdownText,w=$r(),k=w.numUserRoundsRequested,S=w.handleShowMoreUserRounds;return Object(y.jsxs)(ro,{children:[Object(y.jsx)(co,{}),Object(y.jsx)(N,{className:"lotteryHeader",background:"linear-gradient(180deg, #7645D9 0%, #452A7A 100%)",index:1,hasCurvedDivider:!1,children:Object(y.jsx)(_n,{})}),Object(y.jsx)(N,{className:"buyTicketHolder",containerProps:{style:{marginTop:"-30px"}},background:"linear-gradient(180deg, #7645D9 0%, #5121B1 100%)",concaveDivider:!0,clipFill:{light:"#7645D9"},dividerPosition:"top",index:2,children:Object(y.jsxs)(f.B,{alignItems:"center",justifyContent:"center",flexDirection:"column",pt:"24px",children:[a===O.a.OPEN&&Object(y.jsx)(f.C,{scale:"xl",color:"#ffffff",mb:"24px",textAlign:"center",children:n("Get your tickets now!")}),Object(y.jsx)(f.B,{alignItems:"center",justifyContent:"center",mb:"48px",children:g&&(v||C)?Object(y.jsx)(Zc,{nextEventTime:g,postCountdownText:v,preCountdownText:C}):Object(y.jsx)(f.Z,{height:"41px",width:"250px"})}),Object(y.jsx)(Fc,{}),x&&Object(y.jsx)(Jr,{})]})}),Object(y.jsx)(N,{className:"pricesSection",background:"linear-gradient(139.73deg, #313D5C 0%, #3D2A54 100%)",hasCurvedDivider:!1,index:2,children:Object(y.jsx)(Nr,{})}),Object(y.jsx)(N,{className:"roundsHistory",innerProps:{style:{margin:"0",width:"100%",paddingLeft:"0px",paddingRight:"0px"}},background:r?"linear-gradient(180deg, #434575 0%, #66578D 100%)":"linear-gradient(180deg, #CBD7EF 0%, #9A9FD0 100%)",hasCurvedDivider:!1,index:2,children:Object(y.jsxs)(f.B,{width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(y.jsx)(f.C,{mb:"24px",scale:"xl",children:n("Finished Rounds")}),Object(y.jsx)(f.h,{mb:"24px",children:Object(y.jsx)(Hc,{activeIndex:u,setActiveIndex:function(e){return b(e)}})}),0===u?Object(y.jsx)(ur,{}):Object(y.jsx)(ir,{handleShowMoreClick:S,numUserRoundsRequested:k})]})}),Object(y.jsx)(N,{className:"howToPlay",dividerPosition:"top",dividerFill:{light:i.colors.background},clipFill:{light:"#9A9FD0",dark:"#66578D"},index:2,children:Object(y.jsx)(Qr,{})})]})}}}]);
//# sourceMappingURL=6.chunk.js.map